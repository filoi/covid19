(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e){e.exports={Messaging:"\u0627\u0644\u0645\u0631\u0627\u0633\u0644\u0629","Upload attachment":"",Assignee:"","No results found":"\u0644\u0645 \u064a\u062a\u0645 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0623\u064a\u0629 \u0646\u062a\u0627\u0626\u062c",Compose:"","Deselect all":"\u0625\u0644\u063a\u0627\u0621 \u062a\u062d\u062f\u064a\u062f \u0627\u0644\u0643\u0644",Status:"\u0627\u0644\u062d\u0627\u0644\u0629",Priority:"",Search:"\u0628\u062d\u062b","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u0625\u0644\u063a\u0627\u0621",Submit:"\u0625\u0631\u0633\u0627\u0644","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"\u0645\u062d\u062f\u062f",Sender:"",Subject:"",Date:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e","Auto refresh":"","Message discarded":"",Create:"\u0625\u0646\u0634\u0627\u0621",To:"\u0627\u0644\u0649","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u0631\u0633\u0627\u0644\u0629",Send:"\u0625\u0631\u0633\u0627\u0644",Discard:"\u062a\u062c\u0627\u0647\u0644",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0625\u0636\u0627\u0641\u0629","Reply discarded":"",Reply:"\u0631\u062f","Internal reply":"","Select a message":"","No status":"",Open:"\u0641\u062a\u062d",Pending:"",Invalid:"\u063a\u064a\u0631 \u0635\u0627\u0644\u062d",Solved:"","No priority":"",High:"\u0645\u0631\u062a\u0641\u0639",Medium:"\u0645\u062a\u0648\u0633\u0637",Low:"\u0645\u0646\u062e\u0641\u0636","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},242:function(e){e.exports={Messaging:"","Upload attachment":"",Assignee:"","No results found":"",Compose:"","Deselect all":"",Status:"",Priority:"",Search:"","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"",Submit:"","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"",Sender:"",Subject:"",Date:"","Auto refresh":"","Message discarded":"",Create:"",To:"","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"",Send:"",Discard:"",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"","Reply discarded":"",Reply:"","Internal reply":"","Select a message":"","No status":"",Open:"",Pending:"",Invalid:"",Solved:"","No priority":"",High:"",Medium:"",Low:"","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},243:function(e){e.exports={Messaging:"Mensajer\xeda","Upload attachment":"",Assignee:"","No results found":"",Compose:"","Deselect all":"",Status:"Estado",Priority:"",Search:"Buscar","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"Cancelar",Submit:"Enviar","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"",Sender:"",Subject:"Asunto",Date:"Fecha","Auto refresh":"","Message discarded":"",Create:"Crear",To:"Para","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"Mensaje",Send:"Enviar",Discard:"Descartar",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"A\xf1adir","Reply discarded":"",Reply:"Responder","Internal reply":"","Select a message":"","No status":"",Open:"Abrir",Pending:"",Invalid:"No v\xe1lido",Solved:"","No priority":"",High:"",Medium:"",Low:"","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},244:function(e){e.exports={Messaging:"Messagerie","Upload attachment":"",Assignee:"","No results found":"",Compose:"","Deselect all":"",Status:"Statut",Priority:"",Search:"Rechercher","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"Annuler",Submit:"Envoyer","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"s\xe9lectionn\xe9",Sender:"",Subject:"Objet",Date:"Date","Auto refresh":"","Message discarded":"",Create:"Cr\xe9er",To:"A","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"Message",Send:"Envoyer",Discard:"Abandonner",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"Ajouter","Reply discarded":"",Reply:"R\xe9pondre","Internal reply":"","Select a message":"","No status":"",Open:"Ouvrir",Pending:"",Invalid:"Invalide",Solved:"","No priority":"",High:"Elev\xe9",Medium:"Moyen",Low:"Faible","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},245:function(e){e.exports={Messaging:"Pengiriman pesan","Upload attachment":"Unggah lampiran",Assignee:"","No results found":"Tidak ada hasil ditemukan",Compose:"Tulis","Deselect all":"",Status:"",Priority:"Prioritas",Search:"Pencarian","Set filter":"Pilih penyaring","Assigned to me":"","Marked for followup":"Ditandai untuk tindak lanjut","Unread messages":"Pesan belum dibaca",Cancel:"batal",Submit:"Kirim","Are you sure you want to delete selected message conversation(s)?":"Apakah Anda yakin akan menghapus percakapan pesan(2) yang dipilih?","Delete selected":"Hapus yang terpilih","Mark selected as unread":"Tandai yang terpilih sebagai belum dibaca","Mark selected as read":"Tandai yang terpilih sebagai sudah dibaca","Assign selected":"Tugaskan yang terpilih","Mark for followup":"Tandai untuk tindak lanjut","Clear followup":"Hapus tindak lanjut","Clear assignee":"","Set status":"Pilih status","Set priority":"Pilih prioritas",selected:"Terpilih",Sender:"Pengirim",Subject:"Judul",Date:"Tanggal","Auto refresh":"Penyegaran otomatis","Message discarded":"Pesan dibuang",Create:"Buat",To:"Untuk","Feedback recipient group":"Grup penerima umpan balik","Private message":"Pesan pribadi","Feedback message":"Pesan umpan balik",Message:"Pesan",Send:"Kirim",Discard:"Buang",me:"saya","Show all messages":"Tampilkan semua pesan",Participants:"Partisipan","Add participants to conversation":"Tambahkan partisipan dalam percakapan",Add:"Tambah","Reply discarded":"Balasan dibuang",Reply:"Balas","Internal reply":"Balasan internal","Select a message":"Pilih pesan","No status":"Tidak ada status",Open:"Buka",Pending:"Tertunda",Invalid:"Tidak valid",Solved:"Terselesaikan","No priority":"Tidak prioritas",High:"Tinggi",Medium:"Sedang",Low:"Rendah","Successfully updated status":"Berhasil memperbarui status","Successfully updated priority":"Berhasil memperbarui prioritas","Successfully updated assignee":"","Successfully changed followup":"Berhasil memperbarui tindak lanjut","Successfully deleted message conversation(s)":"Berhasil menghapus percakapan pesan(2)"}},246:function(e){e.exports={Messaging:"\u0e81\u0eb2\u0e99\u0eaa\u0ebb\u0ec8\u0e87\u0e82\u0ecd\u0ec9\u0e84\u0ea7\u0eb2\u0ea1","Upload attachment":"",Assignee:"","No results found":"",Compose:"","Deselect all":"",Status:"\u0eaa\u0eb0\u0e96\u0eb2\u0e99\u0eb0",Priority:"",Search:"\u0e84\u0ebb\u0e99\u0eab\u0eb2","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u0e8d\u0ebb\u0e81\u0ec0\u0ea5\u0eb5\u0e81",Submit:"\u0eaa\u0ebb\u0ec8\u0e87\u0ec4\u0e9b\u0ea5\u0eb0\u0e9a\u0ebb\u0e9a","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"\u0ec0\u0ea5\u0eb7\u0ead\u0e81\u0ec1\u0ea5\u0ec9\u0ea7",Sender:"",Subject:"\u0eab\u0ebb\u0ea7\u0e82\u0ecd\u0ec9",Date:"\u0ea7\u0eb1\u0e99\u0e97\u0eb5\u0ec8","Auto refresh":"","Message discarded":"",Create:"\u0eaa\u0ec9\u0eb2\u0e87",To:"\u0e96\u0eb6\u0e87","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u0e82\u0ecd\u0ec9\u0e84\u0ea7\u0eb2\u0ea1",Send:"\u0eaa\u0ebb\u0ec8\u0e87",Discard:"\u0e8d\u0ebb\u0ebb\u0e81\u0ec0\u0ea5\u0eb4\u0e81",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0ec0\u0e9e\u0eb5\u0ec8\u0ea1","Reply discarded":"",Reply:"\u0e95\u0ead\u0e9a\u0e81\u0eb1\u0e9a","Internal reply":"","Select a message":"","No status":"",Open:"\u0ec0\u0e9b\u0eb5\u0e94",Pending:"",Invalid:"\u0e9a\u0ecd\u0ec8\u0e96\u0eb7\u0e81\u0e95\u0ec9\u0ead\u0e87",Solved:"","No priority":"",High:"\u0eaa\u0eb9\u0e87",Medium:"\u0e81\u0eb2\u0e87",Low:"\u0e95\u0ec8\u0eb3","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},247:function(e){e.exports={Messaging:"Messaging","Upload attachment":"",Assignee:"","No results found":"No results found",Compose:"","Deselect all":"",Status:"\u1021\u1001\u103c\u1031\u1021\u1014\u1031",Priority:"",Search:"","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u1015\u101a\u103a\u1016\u103b\u1000\u103a\u101e\u100a\u103a",Submit:"Submit","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"",Sender:"",Subject:"",Date:"\u101b\u1000\u103a\u1005\u103d\u1032","Auto refresh":"",Create:"\u1016\u1014\u103a\u1010\u102e\u1038\u101e\u100a\u103a",To:"","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u101e\u1010\u1004\u103a\u1038",Send:"\u1015\u102d\u102f\u1037\u101e\u100a\u103a",Discard:"Discard","Message discarded":"",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u1011\u1015\u103a\u1011\u100a\u103a\u1037\u101e\u100a\u103a",Reply:"\u1021\u1000\u103c\u1031\u102c\u1004\u103a\u1038\u1015\u103c\u1014\u103a\u101e\u100a\u103a","Internal reply":"","Reply discarded":"","Select a message":"","No status":"",Open:"Open",Pending:"",Invalid:"",Solved:"","No priority":"",High:"",Medium:"",Low:"","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},248:function(e){e.exports={Messaging:"\u067e\u06cc\u0627\u0645 \u06a9\u062a\u0628\u06cc","Upload attachment":"",Assignee:"","No results found":"\u0647\u06cc\u062c \u0646\u062a\u06cc\u062c\u0647 \u06cc \u06cc\u0627\u0641\u062a \u0646\u0634\u062f",Compose:"","Deselect all":"\u0647\u0645\u0647 \u0627\u0632 \u062d\u0627\u0644\u062a \u0627\u0646\u062a\u062e\u0627\u0628 \u062e\u0627\u0631\u062c",Status:"\u0648\u0636\u0639\u06cc\u062a",Priority:"",Search:"\u062c\u0633\u062a\u062c\u0648","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u0644\u063a\u0648 \u06a9\u0631\u062f\u0646",Submit:"\u0627\u0631\u0627\u06cc\u0647","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"\u0645\u0646\u062a\u062e\u0628\u06cc\u0646",Sender:"",Subject:"\u0645\u0648\u0636\u0648\u0639",Date:"\u062a\u0627\u0631\u06cc\u062e","Auto refresh":"","Message discarded":"",Create:"\u0627\u06cc\u062c\u0627\u062f",To:"\u0628\u0647","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u067e\u06cc\u0627\u0645",Send:"\u0641\u0631\u0633\u062a\u0627\u062f\u0646",Discard:"\u0627\u0632\u0628\u06cc\u0646 \u0628\u0631\u062f\u0646",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0627\u0641\u0632\u0648\u062f\u0646","Reply discarded":"",Reply:"\u067e\u0627\u0633\u062e","Internal reply":"","Select a message":"","No status":"",Open:"\u0628\u0627\u0632 \u06a9\u0631\u062f\u0646",Pending:"",Invalid:"\u0646\u0627\u0645\u0639\u062a\u0628\u0631",Solved:"","No priority":"",High:"\u0628\u0644\u0646\u062f\u06cc",Medium:"\u0645\u062a\u0648\u0633\u0637",Low:"\u067e\u0627\u06cc\u0646","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},249:function(e){e.exports={Messaging:"\u067e\u06d0\u063a\u0627\u0645 \u0648\u0631\u06a9\u0648\u0644","Upload attachment":"",Assignee:"","No results found":"\u0647\u06d0\u0685 \u067e\u0627\u06cc\u0644\u0647 \u062a\u0631\u0644\u0627\u0633\u0647 \u0646\u0647 \u0634\u0648\u0647",Compose:"","Deselect all":"",Status:"\u0648\u0636\u0639\u06cc\u062a",Priority:"",Search:"\u062c\u0633\u062a\u062c\u0648","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u0631\u062f \u06cc\u06d0 \u06a9\u0693\u0626 [ \u0698\u0628\u0627\u0693\u0647 \u0640 \u0631\u062f\u0648\u0644 ]",Submit:"\u0648\u0693\u0627\u062f\u06d0 \u06cc\u06d0 \u06a9\u0693\u0626","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"",Sender:"",Subject:"\u0645\u0648\u0636\u0648\u0639",Date:"\u0646\u06d0\u067c\u0647","Auto refresh":"","Message discarded":"",Create:"\u062c\u0648\u0693 \u06cc\u06d0 \u06a9\u0693\u0626",To:"\u062a\u0631","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u067e\u06d0\u063a\u0627\u0645",Send:"\u0644\u06d0\u0696\u0644",Discard:"\u0631\u062f \u06cc\u06d0 \u06a9\u0693\u0626",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0627\u0636\u0627\u0641\u0647 \u06cc\u06d0 \u06a9\u0693\u0626","Reply discarded":"",Reply:"\u0681\u0648\u0627\u0628 \u0648\u0631\u06a9\u0693\u0626","Internal reply":"","Select a message":"","No status":"",Open:"\u062e\u0644\u0627\u0635 \u06cc\u06d0 \u06a9\u0693\u0626",Pending:"",Invalid:"\u062f \u0627\u0639\u062a\u0628\u0627\u0631 \u0648\u0693 \u0646\u0647 \u062f\u064a",Solved:"","No priority":"",High:"",Medium:"",Low:"","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},250:function(e){e.exports={Messaging:"Mensagens","Upload attachment":"",Assignee:"","No results found":"",Compose:"","Deselect all":"",Status:"Estado",Priority:"",Search:"Pesquisar","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"Cancelar",Submit:"Submeter","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"Seleccionado",Sender:"",Subject:"Assunto",Date:"Data","Auto refresh":"","Message discarded":"",Create:"Criar",To:"At\xe9","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"Mensagem",Send:"Enviar",Discard:"Descartar",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"Adicionar","Reply discarded":"",Reply:"Responder","Internal reply":"","Select a message":"","No status":"",Open:"Abrir",Pending:"",Invalid:"Inv\xe1lido",Solved:"","No priority":"",High:"Alta",Medium:"M\xe9dia",Low:"Baixa","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},251:function(e){e.exports={Messaging:"","Upload attachment":"",Assignee:"","No results found":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b",Compose:"","Deselect all":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440 \u0432\u0441\u0435\u0433\u043e",Status:"\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435",Priority:"\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442",Search:"\u041f\u043e\u0438\u0441\u043a","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",Submit:"\u041f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439",Sender:"",Subject:"\u0422\u0435\u043c\u0430",Date:"\u0414\u0430\u0442\u0430","Auto refresh":"","Message discarded":"",Create:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",To:"\u0414\u043e","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",Send:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",Discard:"\u041e\u0442\u043c\u0435\u043d\u0430",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","Reply discarded":"",Reply:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c","Internal reply":"","Select a message":"","No status":"",Open:"",Pending:"",Invalid:"\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439",Solved:"","No priority":"",High:"\u0412\u044b\u0441\u043e\u043a\u0438\u0439",Medium:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",Low:"\u041d\u0438\u0437\u043a\u0438\u0439","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},252:function(e){e.exports={Messaging:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f","Upload attachment":"",Assignee:"","No results found":"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456\u0432 \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e",Compose:"","Deselect all":"",Status:"\u0421\u0442\u0430\u0442\u0443\u0441",Priority:"",Search:"\u041f\u043e\u0448\u0443\u043a","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u0421\u043a\u0430\u0441\u0443\u0432\u0430\u0442\u0438",Submit:"","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"",Sender:"",Subject:"\u0422\u0435\u043c\u0430",Date:"\u0414\u0430\u0442\u0430","Auto refresh":"","Message discarded":"",Create:"\u0421\u0442\u0432\u043e\u0440\u0438\u0442\u0438",To:"\u0414\u043e","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u041f\u043e\u0432\u0456\u0434\u043e\u043c\u043b\u0435\u043d\u043d\u044f",Send:"\u041d\u0430\u0434\u0456\u0441\u043b\u0430\u0442\u0438",Discard:"\u0406\u0433\u043d\u043e\u0440\u0443\u0432\u0430\u0442\u0438",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0414\u043e\u0434\u0430\u0442\u0438","Reply discarded":"",Reply:"\u0412\u0456\u0434\u043f\u043e\u0432\u0456\u0441\u0442\u0438","Internal reply":"","Select a message":"","No status":"",Open:"\u0412\u0456\u0434\u043a\u0440\u0438\u0442\u0438",Pending:"",Invalid:"\u041d\u0435\u0432\u0456\u0440\u043d\u0435",Solved:"","No priority":"",High:"",Medium:"",Low:"","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},253:function(e){e.exports={Messaging:"\u067e\u06cc\u063a\u0645\u0627\u062a","Upload attachment":"",Assignee:"","No results found":"\u06a9\u0648\u0626\u06cc \u0646\u062a\u06cc\u062c\u06c1 \u0646\u06c1\u06cc\u06ba \u0645\u0644\u0627",Compose:"","Deselect all":"\u0633\u0628 \u06a9\u0648 \u0645\u0646\u062a\u062e\u0628 \u06a9\u0631\u06cc\u06ba",Status:"\u062d\u0627\u0644\u062a",Priority:"\u062a\u0631\u062c\u06cc\u062d",Search:"\u062a\u0644\u0627\u0634 \u06a9\u0631\u06cc\u06ba","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"\u0645\u0646\u0633\u0648\u062e",Submit:"","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"\u0645\u0646\u062a\u062e\u0628 \u0634\u062f\u06c1",Sender:"",Subject:"\u0645\u0636\u0645\u0648\u0646",Date:"\u062a\u0627\u0631\u06cc\u062e","Auto refresh":"","Message discarded":"",Create:"\u062a\u062e\u0644\u06cc\u0642",To:"\u06a9\u0631\u0646\u06d2 \u06a9\u06d2 \u0644\u0626\u06d2","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"\u067e\u06cc\u063a\u0627\u0645",Send:"\u0628\u06be\u06cc\u062c\u0648",Discard:"\u0630\u0627\u0626\u0644",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"\u0627\u0636\u0627\u0641\u06c1","Reply discarded":"",Reply:"\u062c\u0648\u0627\u0628","Internal reply":"","Select a message":"","No status":"",Open:"\u06a9\u06be\u0644\u0627",Pending:"",Invalid:"\u063a\u0644\u0637",Solved:"","No priority":"",High:"\u06c1\u0627\u0626\u06cc",Medium:"\u062f\u0631\u0645\u06cc\u0627\u0646\u06c1",Low:"\u06a9\u0645","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},254:function(e){e.exports={Messaging:"Tin nh\u1eafn","Upload attachment":"",Assignee:"","No results found":"Kh\xf4ng t\xecm th\u1ea5y k\u1ebft qu\u1ea3 n\xe0o",Compose:"","Deselect all":"B\u1ecf ch\u1ecdn t\u1ea5t c\u1ea3",Status:"T\xecnh tr\u1ea1ng",Priority:"",Search:"T\xecm ki\u1ebfm","Set filter":"","Assigned to me":"","Marked for followup":"","Unread messages":"",Cancel:"H\u1ee7y",Submit:"N\u1ed9p","Are you sure you want to delete selected message conversation(s)?":"","Delete selected":"","Mark selected as unread":"","Mark selected as read":"","Assign selected":"","Mark for followup":"","Clear followup":"","Clear assignee":"","Set status":"","Set priority":"",selected:"\u0111\xe3 ch\u1ecdn",Sender:"",Subject:"Ch\u1ee7 \u0111\u1ec1",Date:"Ng\xe0y","Auto refresh":"","Message discarded":"",Create:"T\u1ea1o m\u1edbi",To:"\u0110\u1ebfn","Feedback recipient group":"","Private message":"","Feedback message":"",Message:"Tin nh\u1eafn",Send:"G\u1eedi \u0111i",Discard:"B\u1ecf",me:"","Show all messages":"",Participants:"","Add participants to conversation":"",Add:"Th\xeam","Reply discarded":"",Reply:"Tr\u1ea3 l\u1eddi","Internal reply":"","Select a message":"","No status":"",Open:"M\u1edf",Pending:"",Invalid:"Kh\xf4ng h\u1ee3p l\u1ec7",Solved:"","No priority":"",High:"Cao",Medium:"Trung b\xecnh",Low:"Th\u1ea5p","Successfully updated status":"","Successfully updated priority":"","Successfully updated assignee":"","Successfully changed followup":"","Successfully deleted message conversation(s)":""}},256:function(e,t,a){e.exports=a(496)},426:function(e,t,a){},450:function(e,t,a){},480:function(e,t,a){},494:function(e,t,a){},496:function(e,t,a){"use strict";a.r(t);var s=a(19),n=a.n(s),r=a(31),i=a(0),o=a.n(i),c=a(33);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(28),p=a(1),d=a.n(p),u=a(501),g=a(13),m=a(17),h=a(16),f=a(14),y=a(15),v=a(195),S=a.n(v),C="LOAD_MESSAGE_CONVERSATIONS",b="MESSAGE_CONVERSATIONS_LOAD_SUCCESS",k="MESSAGE_CONVERSATIONS_DELETE_SUCCESS",T="MESSAGE_CONVERSATIONS_DELETE_ERROR",E="MESSAGE_CONVERSATION_UPDATE_SUCCESS",M="MESSAGE_CONVERSATION_UPDATE_ERROR",A="SEND_MESSAGE_ERROR",w="SET_FILTER",x="DISPLAY_SNACK_MESSAGE;",O="CLEAR_SNACK_MESSAGE",I="SET_CHECKED",F="SET_ALL_CHECKED",R="CLEAR_CHECKED",j="SET_SELECTED_MESSAGE_TYPE",D="CLEAR_SELECTED_MESSAGE_CONVERSATION",N="SET_SELECTED_MESSAGE_CONVERSATION",U="SET_SELECTED_MESSAGE_CONVERSATION_SUCCESS",_="UPDATE_INPUT_FIELDS",P="SET_IN_FEEDBACK_RECIPIENT_GROUP",L="SET_DISPLAY_TIME_DIFF_SUCCESS",G="ADD_RECIPIENT_BY_ID_SUCCESS",H="ADD_ATTACHMENT",B="ADD_ATTACHMENT_SUCCESS",V="ADD_ATTACHMENT_ERROR",W="REMOVE_ATTACHMENT",q="CLEAR_ATTACHMENTS",Y="CANCEL_ATTACHMENT",K="SET_DHIS2_CORE_VERSION",z=a(94),X=a.n(z),J=a(20),$="Roboto, Helvetica, Arial, sans-serif",Q="NEUTRAL",Z="POSITIVE",ee="NEGATIVE",te=function(e){var t=e.messageType,a=e.page,s=e.messageFilter,n=e.status,r=e.priority,i=e.assignedToMeFilter,o=e.markedForFollowUpFilter,c=e.unreadFilter,l=["messageType:eq:".concat(t)];return"undefined"!==typeof n&&l.push("status:eq:".concat(n)),"undefined"!==typeof r&&l.push("priority:eq:".concat(r)),o&&l.push("followUp:eq:true"),c&&l.push("read:eq:false"),Object(J.getInstance)().then(function(e){return i&&l.push("assignee.id:eq:".concat(e.currentUser.id)),e.Api.getApi().get("messageConversations?pageSize=".concat(35,"&page=").concat(a).concat(""!==s&&void 0!==s?"&queryString=".concat(s):""),{fields:["id, displayName, subject, messageType, lastSender[id, displayName], assignee[id, displayName], status, priority, lastUpdated, read, lastMessage, followUp"],order:"lastMessage:desc",filter:l})}).then(function(e){return{messageConversations:e.messageConversations,pager:e.pager}}).catch(function(e){throw e})},ae=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().get("messageConversations/".concat(e.id),{fields:["*,assignee[id, displayName],messages[*,sender[id,displayName],attachments[id, name, contentLength]],userMessages[user[id, displayName]]"]})}).then(function(e){return e}).catch(function(e){throw e})},se=function(e,t){return Object(J.getInstance)().then(function(a){return a.Api.getApi().post("messageConversations/".concat(e,"/status?messageConversationStatus=").concat(t))}).then(function(e){return e}).catch(function(e){throw e})},ne=function(e,t){return Object(J.getInstance)().then(function(a){return a.Api.getApi().post("messageConversations/".concat(e,"/priority?messageConversationPriority=").concat(t))}).then(function(e){return e}).catch(function(e){throw e})},re=function(e,t){return Object(J.getInstance)().then(function(a){return void 0===t?a.Api.getApi().delete("messageConversations/".concat(e,"/assign")):a.Api.getApi().post("messageConversations/".concat(e,"/assign?userId=").concat(t))}).then(function(e){return e}).catch(function(e){throw e})},ie=function(e,t){return Object(J.getInstance)().then(function(a){return a.Api.getApi().post("messageConversations/".concat(t?"followup":"unfollowup"),e)}).then(function(e){return e}).catch(function(e){throw e})},oe=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().get("messageConversations",{fields:"read",filter:["read:eq:false","messageType:eq:".concat(e)]})}).then(function(e){return e.pager.total}).catch(function(e){throw e})},ce=function(e){var t=e.subject,a=e.users,s=e.userGroups,n=e.organisationUnits,r=e.text,i=e.attachments,o=e.id;return Object(J.getInstance)().then(function(e){return e.Api.getApi().post("messageConversations",{id:o,subject:t,users:a,userGroups:s,organisationUnits:n,attachments:i,text:r})}).then(function(){return{messageConversationId:o}}).catch(function(e){throw e})},le=function(e,t){return Object(J.getInstance)().then(function(a){return a.Api.getApi().post("messageConversations/feedback?subject=".concat(e),t,{headers:{"Content-Type":"text/plain"}})}).then(function(e){return e}).catch(function(e){throw e})},pe=function(e){var t=e.message,a=e.internalReply,s=e.attachments,n=e.id;return Object(J.getInstance)().then(function(e){return e.Api.getApi().post("messageConversations/".concat(n,"?internal=").concat(a).concat(s.length>0?"&attachments=".concat(s):""),t,{headers:{"Content-Type":"text/plain"}})}).catch(function(e){throw e})},de=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().delete("messageConversations/".concat(e,"/").concat(t.currentUser.id))}).then(function(e){return e}).catch(function(e){throw e})},ue=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().post("messageConversations/read",e)}).then(function(e){return e}).catch(function(e){throw e})},ge=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().post("messageConversations/unread",e)}).then(function(e){return e}).catch(function(e){throw e})},me=function(e){var t=e.searchValue,a=e.searchOnlyUsers,s=e.searchOnlyFeedbackRecipients,n=e.feedbackRecipientsId,r=["displayName:token:".concat(t)];return s&&r.push("userGroups.id:eq:".concat(n)),Object(J.getInstance)().then(function(e){return e.Api.getApi().get("users",{pageSize:10,filter:r})}).then(function(e){var s=e.users;return a?{users:s,undefined:void 0}:function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().get("userGroups",{fields:"id, displayName",pageSize:10,filter:["displayName:token:".concat(e)]})}).then(function(e){return e}).catch(function(e){throw e})}(t).then(function(e){var a=e.userGroups;return function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().get("organisationUnits",{fields:"id, displayName",pageSize:10,filter:["displayName:token:".concat(e),"users:gte:1"]})}).then(function(e){return e}).catch(function(e){throw e})}(t).then(function(e){var t=e.organisationUnits;return{users:s,userGroups:a,organisationUnits:t}})})}).catch(function(e){throw e})},he=function(e){var t=e.users,a=e.userGroups,s=e.organisationUnits,n=e.messageConversationId;return Object(J.getInstance)().then(function(e){return e.Api.getApi().post("messageConversations/".concat(n,"/recipients"),{users:t,userGroups:a,organisationUnits:s})}).catch(function(e){throw e})},fe=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().get("users/".concat(e),{fields:"id,displayName"})}).then(function(e){return{id:e.id,displayName:e.displayName,type:"user"}}).catch(function(e){throw e})};var ye=function(e){return Object(J.getInstance)().then(function(t){return t.Api.getApi().post("/fileResources?domain=MESSAGE_ATTACHMENT",function(e){var t=new FormData;return t.append("file",e),t}(e))}).catch(function(e){throw e})};var ve=function(e,t,a){return Object(J.getInstance)().then(function(s){var n=s.Api.getApi().baseUrl;return function(e,t){var a=document.createElement("a");a.href=e,a.setAttribute("target","_blank"),document.body.appendChild(a),a.click()}("".concat(n,"/messageConversations/").concat(e,"/").concat(t,"/attachments/").concat(a))}).catch(function(e){throw e})},Se=a(22),Ce=a.n(Se),be=function(e,t){return{type:e,payload:t}},ke=function(e){return function(){var t=Object(r.a)(n.a.mark(function t(a){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(be(N)),t.prev=1,t.next=4,ae(e);case 4:s=t.sent,a(be(U,{messageConversation:s})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(be("SET_SELECTED_MESSAGE_CONVERSATION_ERROR",{error:t.t0}));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},Te=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var s=Object(r.a)(n.a.mark(function s(r,i){var o,c,l,p,d,u,g,m,h,f,y,v,S,k;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:for(o=[],c=i(),l=c.messaging,p=l.messageFilter,d=l.statusFilter,u=l.priorityFilter,g=l.assignedToMeFilter,m=l.markedForFollowUpFilter,h=l.unreadFilter,e=e||c.messaging.selectedMessageType,t=t||c.messaging.selectedMessageType.id,r(be(C,{messageType:e,loadMore:a})),s.prev=6,f=1;f<=e.page;f++)y=te({messageType:e.id,page:f,messageFilter:p,status:d,priority:u,assignedToMeFilter:g,markedForFollowUpFilter:m,unreadFilter:h}).then(function(e){return{messageConversations:e.messageConversations,pager:e.pager}}),o.push(y);return s.next=10,Promise.all(o);case 10:return v=s.sent,s.next=13,oe(e.id);case 13:S=s.sent,k=v.reduce(function(e,t){return e.concat(t.messageConversations)},[]),r(be(b,{messageConversations:k,pager:v[v.length-1].pager,messageType:e,selectedMessageType:t,nrOfUnread:S})),s.next=21;break;case 18:s.prev=18,s.t0=s.catch(6),r(be("MESSAGE_CONVERSATIONS_LOAD_ERROR",{error:s.t0}));case 21:case"end":return s.stop()}},s,null,[[6,18]])}));return function(e,t){return s.apply(this,arguments)}}()},Ee=function(e,t,a){return function(){var s=Object(r.a)(n.a.mark(function s(r){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,"read"===e?ue(t):ge(t);case 3:r(be("MARK_MESSAGE_CONVERSATIONS_SUCCESS",{messageType:a,page:1})),r(Te()),s.next=10;break;case 7:s.prev=7,s.t0=s.catch(0),r(be("MARK_MESSAGE_CONVERSATIONS_ERROR",{error:s.t0}));case 10:case"end":return s.stop()}},s,null,[[0,7]])}));return function(e){return s.apply(this,arguments)}}()},Me=function(e){return function(){var t=Object(r.a)(n.a.mark(function t(a){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(be(H,e)),t.prev=1,t.next=4,ye(e);case 4:s=t.sent,a(be(B,{id:s.response.fileResource.id,name:e.name,contentLength:s.response.fileResource.contentLength})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(be(V,{error:t.t0}));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},Ae=function(){return be(R)},we=function(){return be(D)},xe=function(e){var t=e.message,a=e.onSnackActionClick,s=e.onSnackRequestClose,n=e.snackType;return be(x,{message:t,onSnackActionClick:a,onSnackRequestClose:s,snackType:n})},Oe=function(e,t){return be(w,{filter:e,filterType:t})},Ie=function(e,t,a){return be(_,{subject:e,input:t,recipients:a})},Fe=function(){return be(q)},Re=function(e){return be(j,{messageTypeId:e})},je=function(e){return be(W,{attachmentId:e})},De=function(e){return be(Y,{attachmentName:e})},Ne=a(30),Ue=a(129),_e=a.n(Ue),Pe=a(48),Le=a(26),Ge=_e()({palette:{negative:Le.pinkA200,blue50:Le.blue50,primary1Color:"#1D8BF1",primary2Color:Le.blue100,primary3Color:Le.blue300,primary4Color:Le.blue500,accent1Color:Le.grey50,accent2Color:Le.grey100,accent3Color:Le.grey300,accent4Color:Le.grey500,followUp:Le.orange500,darkGray:Le.grey700,superDarkGray:Le.grey900,textColor:Le.darkBlack,alternateTextColor:Le.white,canvasColor:Le.white,borderColor:Le.grey300,clockCircleColor:Object(Pe.fade)(Le.darkBlack,.07),shadowColor:Le.fullBlack}}),He={NEGATIVE:Ge.palette.negative,NEUTRAL:Ge.palette.primary1Color,POSITIVE:Ge.palette.alternateTextColor},Be=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).closeMessage=function(){a.props.clearSnackMessage(),a.setState({show:!1}),a.props.onSnackRequestClose&&a.props.onSnackRequestClose()},a.state={show:!1},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){!t.show&&this.props.message&&this.setState({show:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement(S.a,{open:""!==this.props.message&&this.state.show,message:this.props.message||"Missing snackbar message",autoHideDuration:4e3,onRequestClose:this.closeMessage,action:this.props.onSnackActionClick&&"undo",onActionClick:function(){e.props.onSnackActionClick(),e.setState({show:!1})},contentStyle:{color:He[this.props.type]},style:{pointerEvents:"none",whiteSpace:"nowrap"},bodyStyle:{pointerEvents:"initial",maxWidth:"none"}})}}]),t}(i.Component),Ve=Object(Ne.a)(Object(l.b)(function(e){return{message:e.messaging.snackMessage,type:e.messaging.snackType,onSnackActionClick:e.messaging.onSnackActionClick,onSnackRequestClose:e.messaging.onSnackRequestClose}},{clearSnackMessage:function(){return be(O)}}),Ne.b)(Be),We=a(64),qe=a(197),Ye=(a(411),a(103)),Ke=a(43),ze=a(18),Xe=[{id:"PRIVATE",displayName:"Inbox",unread:0,loaded:0,loading:!1,total:0,page:1},{id:"VALIDATION_RESULT",displayName:"Validation",unread:0,loaded:0,loading:!1,total:0,page:1},{id:"TICKET",displayName:"Ticket",unread:0,loaded:0,loading:!1,total:0,page:1},{id:"SYSTEM",displayName:"System",unread:0,loaded:0,loading:!1,total:0,page:1}];function Je(e,t){for(var a=e.length,s=0;s<a;s++)if(e[s].id===t)return s}function $e(e,t){var a=null;return function(){var s=this,n=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(s,n)},t)}}function Qe(e){return e>30}var Ze={messageConversations:{},messageTypes:Xe,selectedMessageType:void 0,selectedMessageConversation:void 0,settingSelectedMessageConversation:!1,checkedIds:[],messageFilter:void 0,statusFilter:void 0,priorityFilter:void 0,assignedToMeFilter:!1,markedForFollowUpFilter:!1,unreadFilter:!1,isInFeedbackRecipientGroup:!1,feedbackRecipientsId:void 0,displayTimeDiff:0,subject:"",input:"",recipients:[],attachments:[],snackMessage:"",onSnackActionClick:void 0,onSnackRequestClose:void 0,snackType:Q};var et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze,t=arguments.length>1?arguments[1]:void 0,a=e.messageTypes,s=e.attachments;switch(t.type){case L:return Object(ze.a)({},e,{displayTimeDiff:t.payload});case b:var n=a.find(function(e){return e.id===t.payload.messageType.id});n.loaded=t.payload.messageConversations.length,n.total=t.payload.pager.total,n.unread=t.payload.nrOfUnread,n.page=t.payload.pager.page,n.loading=!1,Xe.splice([Je(a,n.id)],1,n);var r=t.payload.selectedMessageType===n.id&&(t.payload.selectedMessageType===e.selectedMessageType||void 0===e.selectedMessageType);return Object(ze.a)({},e,{messageTypes:Xe,messageConversations:Object(ze.a)({},e.messageConversations,Object(Ke.a)({},n.id,t.payload.messageConversations)),selectedMessageType:r?n:e.selectedMessageType});case M:return Object(ze.a)({},e,{snackMessage:t.payload.error.message,snackType:ee});case E:var i="";switch(t.payload.identifier){case"STATUS":i=d.a.t("Successfully updated status");break;case"PRIORITY":i=d.a.t("Successfully updated priority");break;case"ASSIGNEE":i=d.a.t("Successfully updated assignee");break;case"FOLLOW_UP":i=d.a.t("Successfully changed followup");break;default:X.a.error("Unexpected identifier for updateMessageConversations success")}return Object(ze.a)({},e,{snackMessage:i,snackType:Z});case A:case T:return Object(ze.a)({},e,{snackMessage:t.payload.error.message,snackType:ee});case k:return Object(ze.a)({},e,{snackMessage:d.a.t("Successfully deleted message conversation(s)"),snackType:Z});case x:return Object(ze.a)({},e,{snackMessage:t.payload.message,snackType:t.payload.snackType,onSnackActionClick:t.payload.onSnackActionClick,onSnackRequestClose:t.payload.onSnackRequestClose});case O:return Object(ze.a)({},e,{snackMessage:"",snackType:Q});case I:var o=t.payload.messageConversation,c=e.checkedIds;return t.payload.selectedValue?c.push(o):c=c.filter(function(e){return e.id!==o.id}),Object(ze.a)({},e,{checkedIds:c});case F:return Object(ze.a)({},e,{checkedIds:t.payload.messageConversationIds});case R:return Object(ze.a)({},e,{checkedIds:[]});case U:return Object(ze.a)({},e,{selectedMessageConversation:t.payload.messageConversation,settingSelectedMessageConversation:!1});case N:return Object(ze.a)({},e,{settingSelectedMessageConversation:!0});case D:return Object(ze.a)({},e,{selectedMessageConversation:void 0});case j:return Object(ze.a)({},e,{checkedIds:[],selectedMessageType:a.find(function(e){return e.id===t.payload.messageTypeId}),selectedMessageConversations:e.messageConversations[t.payload.messageTypeId],selectedMessageConversation:void 0});case _:return Object(ze.a)({},e,{subject:t.payload.subject,input:t.payload.input,recipients:t.payload.recipients});case G:return Object(ze.a)({},e,{recipients:[].concat(Object(Ye.a)(e.recipients),[t.payload])});case w:return Object(ze.a)({},e,{messageFilter:"MESSAGE"===t.payload.filterType?t.payload.filter:e.messageFilter,statusFilter:"STATUS"===t.payload.filterType?t.payload.filter:e.statusFilter,priorityFilter:"PRIORITY"===t.payload.filterType?t.payload.filter:e.priorityFilter,assignedToMeFilter:"ASSIGNED_TO_ME"===t.payload.filterType?t.payload.filter:e.assignedToMeFilter,markedForFollowUpFilter:"MARKED_FOR_FOLLOWUP"===t.payload.filterType?t.payload.filter:e.markedForFollowUpFilter,unreadFilter:"UNREAD"===t.payload.filterType?t.payload.filter:e.unreadFilter});case C:var l=t.payload.messageType;l.loading=!0,t.payload.loadMore&&l.page++,Xe[Je(Xe,l.id)]=l;var p=e.selectedMessageType;return p&&(p.loading=!0,t.payload.loadMore&&p.page++),Object(ze.a)({},e,{messageTypes:Xe,selectedMessageType:p});case P:return Object(ze.a)({},e,{isInFeedbackRecipientGroup:t.payload.isInFeedbackRecipientGroup.authorized,feedbackRecipientsId:t.payload.isInFeedbackRecipientGroup.feedbackRecipientsId});case B:return Object(ze.a)({},e,{attachments:e.attachments.map(function(e){return e.name===t.payload.name?{id:t.payload.id,name:e.name,contentLength:e.contentLength,loading:!1}:e})});case V:return Object(ze.a)({},e,{attachments:s.filter(function(e){return e.id!==t.payload.attachmentId}),snackMessage:t.payload.error.message,snackType:ee});case H:return Object(ze.a)({},e,{attachments:e.attachments.concat({name:t.payload.name,contentLength:t.payload.size,loading:!0})});case W:return Object(ze.a)({},e,{attachments:s.filter(function(e){return e.id!==t.payload.attachmentId})});case Y:return Object(ze.a)({},e,{attachments:s.filter(function(e){return e.name!==t.payload.attachmentName})});case q:return Object(ze.a)({},e,{attachments:[]});case K:return Object(ze.a)({},e,{dhis2CoreVersion:t.payload});default:return e}},tt=[qe.a],at=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||We.d;var st=Object(We.c)({messaging:et}),nt=Object(We.e)(st,at(We.a.apply(void 0,tt))),rt=a(215),it=a(2),ot=a.n(it),ct=a(25),lt=a.n(ct),pt=a(214),dt=a.n(pt),ut=a(52),gt=Object(ut.a)(),mt=a(97),ht=a.n(mt),ft=a(96),yt=a.n(ft),vt=a(34),St=a.n(vt),Ct=a(41),bt=a.n(Ct),kt=a(130),Tt=a.n(kt),Et=a(36),Mt=a.n(Et),At=a(63),wt=a.n(At),xt=a(131),Ot=a.n(xt),It=a(198),Ft=a.n(It),Rt=a(200),jt=a.n(Rt),Dt=a(199),Nt=a.n(Dt),Ut=(a(426),function(e){var t=e.dataDirection,a=e.attachment,s=e.removeAttachment,n=e.downloadAttachment,r=e.cancelAttachment;return o.a.createElement(St.a,{className:"attachment__button",backgroundColor:Ge.palette.accent2Color,label:"".concat(a.name," (").concat(parseFloat(parseInt(a.contentLength,10)/1e6).toFixed(2)," MB)"),labelPosition:"after",onClick:function(){"download"===t?n(a):a.loading?r(a.name):s(a)},icon:"download"===t?o.a.createElement(Nt.a,null):o.a.createElement(jt.a,null)},a.loading&&o.a.createElement(Ft.a,{className:"attachment__progress",mode:"indeterminate"}))}),_t=function(e){var t=e.dataDirection,a=e.attachments,s=e.style,n=e.removeAttachment,r=e.downloadAttachment,i=e.cancelAttachment;return o.a.createElement("div",{className:"attachment",style:Object(ze.a)({},s)},a.map(function(e,a){return o.a.createElement(Ut,{key:"".concat(e.name,"-").concat(a),dataDirection:t,attachment:e,removeAttachment:n,downloadAttachment:r,cancelAttachment:i})}))},Pt=a(201),Lt=a.n(Pt),Gt={canvas:function(e){return{backgroundColor:e,padding:"16px 16px 16px 16px"}},innerCanvas:{margin:"",paddingBottom:"0px"},cardText:{padding:"16px 0px 16px 0px",fontFamily:$,whiteSpace:"pre-wrap",wordBreak:"break-word"},fromFormat:{fontFamily:$},datePlacement:{display:"flex",justifyContent:"flex-end",marginRight:"10px"},dateFormat:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontFamily:$}},Ht=function(e){var t=e.displayTimeDiff,a=e.message,s=e.currentUser,n=e.lastMessage,r=e.downloadAttachment,i=e.cancelAttachment,c=e.enableAttachments,l=a.sender?s&&s.id===a.sender.id?"me":a.sender.displayName:"system",p=Ce()(),u=Ce()(a.created).add(t);return o.a.createElement("div",{style:Gt.canvas(Ge.palette.canvasColor)},o.a.createElement("div",{style:Gt.innerCanvas},o.a.createElement("div",{style:Gt.fromFormat},a.internal?d.a.t("Internal message from ".concat(l)):d.a.t("Message from ".concat(l))),o.a.createElement("div",{placement:"bottom",style:Gt.datePlacement},o.a.createElement("div",{style:Gt.dateFormat},p.diff(u,"hours")<72?"".concat(u.from(p),", ").concat(u.format("HH:mm")):p.year()===u.year()?u.format("MMM DD, HH:mm"):u.format("MMM DD, YYYY HH:mm"))),c&&o.a.createElement(_t,{dataDirection:"download",style:{paddingLeft:0},attachments:a.attachments,downloadAttachment:r,cancelAttachment:i}),o.a.createElement(Ot.a,{style:Gt.cardText},o.a.createElement(Lt.a,null,a.text))),!n&&o.a.createElement(wt.a,null))},Bt=a(57),Vt=a(95),Wt=a.n(Vt),qt=a(49),Yt=a.n(qt),Kt=a(202),zt=a.n(Kt),Xt=(a(450),function(e){return function(t){var a=t.target.files;a.length>0&&e(a[0])}}),Jt=function(e){var t=e.addAttachment;return o.a.createElement(St.a,{className:"attachment__upload-button",label:d.a.t("Upload attachment"),labelPosition:"after",containerElement:"label",icon:o.a.createElement(zt.a,null)},o.a.createElement("input",{className:"attachment__upload-button--input",type:"file",onChange:Xt(t)}))},$t=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).replyMessage=function(e){var t=a.props,s=t.input,n=t.selectedMessageConversation,r=t.selectedMessageType;a.props.replyMessage({message:s,internalReply:e,messageConversation:n,messageType:r}),a.wipeInput()},a.wipeInput=function(){a.props.updateInputFields("","",[]),a.props.attachments.length>0&&a.props.clearAttachments(),a.setState({inputError:!1})},a.texFieldUpdate=function(e,t){a.props.updateInputFields("",t,[])},a.handleDiscard=function(){var e=d.a.t("Reply discarded"),t=ee;a.setState({discardState:!0}),a.props.displaySnackMessage({message:e,onSnackActionClick:function(){return a.setState({discardState:!1})},onSnackRequestClose:function(){a.setState({discardState:!1}),a.wipeInput()},snackType:t}),a.setState({expanded:!1})},a.state={discardState:!1},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){this.wipeInput()}},{key:"render",value:function(){var e=this;return o.a.createElement(Bt.Card,{style:{marginTop:"5px"},expanded:!0},o.a.createElement(Bt.CardText,{style:{padding:"0px 0px 0px 16px"}},o.a.createElement(Yt.a,{key:this.props.messageConversation.id,id:this.props.messageConversation.id,rows:5,underlineShow:!1,value:this.state.discardState?"":this.props.input,multiLine:!0,fullWidth:!0,floatingLabelText:d.a.t("Message"),onChange:this.texFieldUpdate}),this.props.enableAttachments&&!this.state.discardState&&o.a.createElement(_t,{dataDirection:"upload",attachments:this.props.attachments,removeAttachment:function(t){return e.props.removeAttachment(t.id)},cancelAttachment:this.props.cancelAttachment}),o.a.createElement(Bt.CardActions,{style:{paddingLeft:"0px"}},o.a.createElement(Wt.a,{primary:!0,label:d.a.t("Reply"),disabled:""===this.props.input||this.state.discardState,onClick:function(){return e.replyMessage(!1)}}),this.props.isInFeedbackRecipientGroup&&"TICKET"===this.props.selectedMessageType.id&&o.a.createElement(St.a,{primary:!0,label:d.a.t("Internal reply"),disabled:""===this.props.input||this.state.discardState,onClick:function(){return e.replyMessage(!0)}}),o.a.createElement(St.a,{label:d.a.t("Discard"),disabled:""===this.props.input||this.state.discardState,onClick:this.handleDiscard}),this.props.enableAttachments&&o.a.createElement(Jt,{addAttachment:function(t){e.props.addAttachment(t)}}),")")))}}]),t}(i.Component),Qt=Object(Ne.a)(Object(l.b)(function(e){return{selectedMessageConversation:e.messaging.selectedMessageConversation,selectedMessageType:e.messaging.selectedMessageType,messageTypes:e.messaging.messageTypes,input:e.messaging.input,isInFeedbackRecipientGroup:e.messaging.isInFeedbackRecipientGroup,attachments:e.messaging.attachments,enableAttachments:Qe(e.messaging.dhis2CoreVersion)}},{replyMessage:function(e){var t=e.message,a=e.internalReply,s=e.messageConversation,i=e.messageType;return function(){var e=Object(r.a)(n.a.mark(function e(r,o){var c,l,p;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=s.id,l=o(),p=l.messaging.attachments.map(function(e){return e.id}),e.next=6,pe({message:t,internalReply:a,attachments:p,id:c});case 6:r(be("REPLY_MESSAGE_SUCCESS",{messageConversation:s,messageType:i,page:1})),r(Te()),r(ke(s)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),r(be("REPLY_MESSAGE_ERROR",{error:e.t0}));case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(t,a){return e.apply(this,arguments)}}()},setSelectedMessageType:Re,updateInputFields:Ie,displaySnackMessage:xe,addAttachment:Me,removeAttachment:je,cancelAttachment:De},null,{pure:!1}))($t),Zt=a(24),ea=a(203),ta=a.n(ea),aa=300,sa=function(e){function t(){var e,a;Object(g.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={input:"",searchResult:[],searchOnlyUsers:a.props.searchOnlyUsers,searchOnlyFeedbackRecipients:a.props.searchOnlyFeedbackRecipients,lastSearch:"",errorText:void 0},a.debouncedSearch=$e(a.search.bind(Object(Zt.a)(a)),aa),a.onSuggestionClick=function(e){void 0!==a.props.onSuggestionClick?a.props.onSuggestionClick(e):(a.wipeInput(),a.debouncedSearch(""),!a.props.recipients.find(function(t){return t.id===e.id})&&a.props.updateRecipients([].concat(Object(Ye.a)(a.props.recipients),[a.state.searchResult.find(function(t){return t.id===e.id})])))},a.onRemoveChip=function(e){a.props.updateRecipients(a.props.recipients.filter(function(t){return t.id!==e}))},a.wipeInput=function(){a.setState({input:"",searchResult:[]})},a.updateInput=function(e){a.debouncedSearch(e),a.setState({input:e})},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"search",value:function(e){var t=this;if(!this.state.searchResult.find(function(t){return t.displayName===e})&&""!==e&&e.length>=2){var a=this.props,s=a.feedbackRecipientsId,n=a.searchOnlyUsers,r=a.searchOnlyFeedbackRecipients;me({searchValue:e,searchOnlyUsers:n,searchOnlyFeedbackRecipients:r,feedbackRecipientsId:s}).then(function(e){var a=e.users,s=e.userGroups,n=e.organisationUnits,r=function(e){return function(t){return Object(ze.a)({},t,{type:e})}},i=a.map(r("user"));t.state.searchOnlyUsers||(i=i.concat(s.map(r("userGroup"))).concat(n.map(r("organisationUnit")))),t.setState({searchResult:i,errorText:0===i.length?d.a.t("No results found"):void 0})})}else this.setState({lastSearch:e,searchResult:""!==this.state.lastSearch&&""===e||e.length<2?[]:this.state.searchResult,errorText:""!==e&&e.length<2?d.a.t("Please enter at least ".concat(2," characters")):this.state.searchWarning})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:Object(ze.a)({},this.props.style,{height:this.props.inputHeight})},o.a.createElement(ta.a,{style:{marginBottom:16},disabled:void 0!==this.props.disabled&&this.props.disabled,errorText:this.props.errorText||this.state.errorText,value:this.props.recipients,fullWidth:!0,openOnFocus:!0,searchText:this.state.input,floatingLabelText:this.props.label,dataSource:this.state.searchResult,dataSourceConfig:{text:"displayName",value:"id"},onUpdateInput:this.updateInput,onRequestAdd:function(t){return e.onSuggestionClick(t)},onRequestDelete:function(t){return e.onRemoveChip(t)}}))}}]),t}(i.Component),na={subheaderTitle:{height:"32px",color:"black",paddingLeft:0,paddingRight:16},subheader:function(e,t){return{height:"32px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:0,color:e,fontWeight:t}}},ra=function(e){var t=e.showTitle,a=e.title,s=e.label,n=e.color,r=e.fontWeight,i=s&&"NONE"!==s?"Assignee"===a?s:"".concat(s.charAt(0)).concat(s.toLowerCase().substr(1,s.length)):"-";return o.a.createElement("div",{style:{flex:2,paddingLeft:10,maxWidth:200}},t&&o.a.createElement(lt.a,{style:na.subheaderTitle}," ",a," "),o.a.createElement(lt.a,{style:na.subheader(n,r)},i))},ia={canvas:{flex:"3 0",overflowY:"scroll",overflowX:"hidden",height:"calc(100vh - 110px)",paddingTop:"10px"},innerCanvas:{display:"flex",flexDirection:"column",margin:"0px 10px 0px 10px"},header:{display:"flex"},iconButton:{display:"flex",alignSelf:"center"},subjectSubheader:{display:"flex",alignSelf:"center",fontSize:"20px",fontFamily:$},participantsCanvas:{display:"flex",flexDirection:"column"},participants:{paddingLeft:"12px",paddingTop:"10px",display:"flex",flexWrap:"wrap"},chip:{height:"32px",marginRight:"3px",marginBottom:"3px"},participantAddRow:{display:"flex"},participantsSuggestionField:{paddingLeft:"12px",marginBottom:"0px",flex:1},participantsAdd:{alignSelf:"flex-end",marginBottom:"28px",paddingLeft:"12px"},messagesCanvas:{marginBottom:"50px",display:"flex",flexDirection:"column",backgroundColor:Ge.palette.accent2Color,margin:"0px 10px 10px 10px"},messagesInnerCanvas:{padding:"0px"}},oa=["TICKET","VALIDATION_RESULT"],ca=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).backToList=function(){var e=a.props,t=e.clearSelectedMessageConversation,s=e.messageConversation;gt.push("/".concat(s.messageType)),t()},a.addRecipients=function(){var e=a.state.recipients.filter(function(e){return"user"===e.type}),t=a.state.recipients.filter(function(e){return"userGroup"===e.type}),s=a.state.recipients.filter(function(e){return"organisationUnit"===e.type}),n=a.props,r=n.messageConversation,i=n.selectedMessageType;a.props.addRecipients({users:e,userGroups:t,organisationUnits:s,messageConversation:r,messageType:i}),a.setState({recipients:[]})},a.updateRecipients=function(e){a.setState({recipients:e})},a.state={recipients:[],currentUser:void 0,cursor:"auto"},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;Object(J.getInstance)().then(function(t){e.setState({currentUser:t.currentUser})})}},{key:"render",value:function(){var e=this,t=this.props.messageConversation,a=t.messages,s=!!(oa.indexOf(t.messageType)+1),n=t.userMessages.slice(0,30).map(function(t){return"undefined"===typeof e.state.currentUser||e.state.recipientsExpanded||e.state.currentUser.id!==t.user.id?t.user.displayName:d.a.t("me")}),r=t.userMessages.length;return r>30&&n.push(" + ".concat(r-30)),o.a.createElement("div",{id:"messageconversation",style:ia.canvas},o.a.createElement("div",{style:ia.innerCanvas},o.a.createElement("div",{style:ia.header},o.a.createElement(bt.a,{style:ia.iconButton,tooltipPosition:"bottom-right",onClick:this.backToList,tooltip:d.a.t("Show all messages")},o.a.createElement(yt.a,null)),o.a.createElement(lt.a,{style:ia.subjectSubheader},t.subject),this.props.displayExtendedChoices&&o.a.createElement(ra,{color:Ge.palette.darkGray,showTitle:!0,title:d.a.t("Status"),label:t.status}),this.props.displayExtendedChoices&&o.a.createElement(ra,{color:Ge.palette.darkGray,showTitle:!0,title:d.a.t("Priority"),label:t.priority}),s&&o.a.createElement(ra,{color:Ge.palette.darkGray,showTitle:!0,title:d.a.t("Assignee"),label:t.assignee?t.assignee.displayName:void 0})),o.a.createElement("div",{style:ia.participantsCanvas},o.a.createElement(lt.a,{style:{paddingLeft:"12px",paddingTop:"10px"}},d.a.t("Participants")),o.a.createElement("div",{style:ia.participants},n.map(function(e){return o.a.createElement(Tt.a,{key:e,style:ia.chip},e)}))),o.a.createElement("div",{style:ia.participantAddRow},o.a.createElement(sa,{style:ia.participantsSuggestionField,label:d.a.t("Add participants to conversation"),messageConversation:t,recipients:this.state.recipients,updateRecipients:this.updateRecipients,limitSearchArray:t.userMessages}),o.a.createElement("div",{style:ia.participantsAdd},o.a.createElement(St.a,{icon:o.a.createElement(ht.a,null),onClick:function(){return e.addRecipients()},label:d.a.t("Add")})))),o.a.createElement("div",{style:ia.messagesCanvas},o.a.createElement(Mt.a,{style:ia.messagesInnerCanvas},a.map(function(n,r){return o.a.createElement(Ht,{key:n.id,displayTimeDiff:e.props.displayTimeDiff,message:n,messageConversation:t,notification:s,currentUser:e.state.currentUser,lastMessage:r+1===a.length,downloadAttachment:function(a){return e.props.downloadAttachment(t.id,n.id,a.id)},cancelAttachment:e.props.cancelAttachment,enableAttachments:e.props.enableAttachments})})),o.a.createElement(Qt,Object.assign({},this.props,{messageConversation:t}))))}}]),t}(i.Component),la=Object(Ne.a)(Object(l.b)(function(e){return{selectedMessageType:e.messaging.selectedMessageType,displayTimeDiff:e.messaging.displayTimeDiff,enableAttachments:Qe(e.messaging.dhis2CoreVersion)}},{addRecipients:function(e){var t=e.users,a=e.userGroups,s=e.organisationUnits,i=e.messageConversation,o=e.messageType;return function(){var e=Object(r.a)(n.a.mark(function e(r){var c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=i.id,e.next=4,he({users:t,userGroups:a,organisationUnits:s,messageConversationId:c});case 4:r(be("ADD_RECIPIENTS_SUCCESS",{messageConversation:i,messageType:o,page:1})),r(ke(i)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(be("ADD_RECIPIENTS_ERROR",{error:e.t0}));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},downloadAttachment:function(e,t,a){return function(){var s=Object(r.a)(n.a.mark(function s(r){return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,ve(e,t,a);case 3:r(be("DOWNLOAD_ATTACHMENT_SUCCESS")),s.next=9;break;case 6:s.prev=6,s.t0=s.catch(0),r(be("DOWNLOAD_ATTACHMENT_ERROR",{error:s.t0}));case 9:case"end":return s.stop()}},s,null,[[0,6]])}));return function(e){return s.apply(this,arguments)}}()},cancelAttachment:De,clearSelectedMessageConversation:we},null,{pure:!1}))(ca),pa=a(204),da=a(205),ua=a.n(da),ga=a(98),ma=a.n(ga),ha=a(206),fa=a.n(ha),ya=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).onClick=function(){a.props.onClick()},a.onMouseEnter=function(){a.setHoverText(),a.setState({cursor:"pointer"})},a.onMouseLeave=function(){a.setNeutralText(),a.setState({cursor:"auto"})},a.setNeutralText=function(){return a.setTextColor(Ge.palette.accent2Color)},a.setHoverText=function(){return a.setTextColor(Ge.palette.accent3Color)},a.setTextColor=function(e){a.setState({backgroundColor:e})},a.getBackgroundColor=function(e,t){return e&&t===e.id?Ge.palette.accent3Color:a.state.backgroundColor},a.state={backgroundColor:Ge.palette.accent2Color,textColor:Ge.palette.darkGray},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{role:"presentation",style:Object(ze.a)({},this.state,{backgroundColor:this.getBackgroundColor(this.props.selectedMessageType,this.props.messageType.id),cursor:this.state.cursor,alignItems:"center",height:"49px",display:"flex",flexDirection:"row",justifyContent:"space-between"}),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onClick:function(){return e.onClick()}},o.a.createElement(lt.a,{style:{marginLeft:"5px",fontSize:this.props.selectedMessageType&&this.props.messageType.id===this.props.selectedMessageType.id?"18px":"16px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:this.props.selectedMessageType&&this.props.messageType.id===this.props.selectedMessageType.id?Ge.palette.primary1Color:this.state.textColor}},d.a.t(this.props.messageType.displayName)),this.props.loading?o.a.createElement(ma.a,{style:{marginRight:"10px"},color:Ge.palette.primary1Color,size:24}):this.props.messageType.unread>0&&o.a.createElement(fa.a,{style:{marginTop:"12px",marginRight:"5px"},badgeContent:this.props.messageType.unread>100?"99+":this.props.messageType.unread,secondary:!0,badgeStyle:{backgroundColor:"#439E8E"}}))}}]),t}(i.Component),va={canvas:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"calc(100vh - 95px)",borderLeftStyle:"solid",borderLeftWidth:"0.5px",borderLeftColor:Ge.palette.accent4Color,borderRightStyle:"solid",borderRightWidth:"1px",borderRightColor:Ge.palette.accent4Color,overflowY:"auto",overflowX:"hidden",minWidth:"200px"}},Sa=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).props.setSelectedMessageType(a.props.match.params.messageType),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.messageTypes;return o.a.createElement("div",{style:va.canvas},o.a.createElement(pa.List,{style:{padding:"0px"}},t&&t.map(function(t){return o.a.createElement("div",{key:t.id},o.a.createElement(ya,{messageType:t,onClick:function(){e.props.setSelectedMessageType(t.id),e.props.updateInputFields("","",[]),e.props.attachments.length>0&&e.props.clearAttachments(),gt.push("/".concat(t.id))},selectedMessageType:e.props.selectedMessageType,loading:t.loading}),o.a.createElement(wt.a,null))})),o.a.createElement(ua.a,{style:{width:"",margin:"20px"},label:"".concat(d.a.t("Auto refresh")," (").concat(Ce()(this.props.refreshTimer).format("mm:ss"),")"),toggled:this.props.autoRefresh,onToggle:function(){return e.props.setAutoRefresh(!e.props.autoRefresh)}}))}}]),t}(i.Component),Ca=Object(Ne.a)(Object(l.b)(function(e){return{selectedMessageType:e.messaging.selectedMessageType,messageTypes:e.messaging.messageTypes}},{setSelectedMessageType:Re,clearCheckedIds:Ae},null,{pure:!1}))(Sa),ba={overflowY:"scroll",overflowX:"hidden",borderRightWidth:"1px",borderRightColor:Ge.palette.accent4Color,height:"calc(100vh - 95px)"},ka={paddingLeft:"0px",fontSize:"20px"},Ta=a(99),Ea=a.n(Ta),Ma={canvas:function(e){return{backgroundColor:e,display:"flex",transition:"all 0.2s ease-in-out",boxSizing:"border-box",position:"relative",whiteSpace:"nowrap",alignSelf:"center",boxShadow:"none",borderBottom:"1px solid #dfdfdf"}},checkBox:{flex:"0 0 32px",display:"flex",alignSelf:"center",paddingLeft:"12px"},sender:{fontFamily:$,fontSize:"16px",flex:3,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"black",paddingLeft:10,alignSelf:"center"},subject:{flex:8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontFamily:$,fontSize:"16px",color:"black",paddingLeft:10},extendedLabel:{flex:2,color:"black",fontSize:"16px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"0 0 0 10px"}},Aa=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).state={cursor:"auto",allChecked:!1},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(){this.state.allChecked&&this.props.checkedIds.length<this.props.children.length&&this.setState({allChecked:!1})}},{key:"render",value:function(){var e=this,t=this.props.displayExtendedChoices;return o.a.createElement(Mt.a,{style:Ma.canvas(Ge.palette.canvasColor)},o.a.createElement(Ea.a,{checked:this.state.allChecked,style:Ma.checkBox,onCheck:function(t,a){e.state.allChecked?e.props.clearCheckedIds():e.props.setAllChecked(e.props.children.map(function(e){return{id:e.id}})),e.setState({allChecked:!e.state.allChecked})}}),o.a.createElement("div",{style:Ma.sender},d.a.t("Sender")),o.a.createElement(lt.a,{style:Ma.subject},d.a.t("Subject")),t&&o.a.createElement(lt.a,{style:Ma.extendedLabel},d.a.t("Status")),t&&o.a.createElement(lt.a,{style:Ma.extendedLabel},d.a.t("Priority")),this.props.notification&&o.a.createElement(lt.a,{style:Ma.extendedLabel},d.a.t("Assignee")),o.a.createElement(lt.a,{style:Ma.extendedLabel},d.a.t("Date")))}}]),t}(i.Component),wa=Object(Ne.a)(Object(l.b)(function(e){return{checkedIds:e.messaging.checkedIds,isInFeedbackRecipientGroup:e.messaging.isInFeedbackRecipientGroup}},{setAllChecked:function(e){return be(F,{messageConversationIds:e})},clearCheckedIds:Ae}))(Aa),xa=a(207),Oa=a.n(xa),Ia={container:function(e,t,a){return{backgroundColor:e,display:"flex",transition:"all 0.2s ease-in-out",cursor:a,boxSizing:"border-box",position:"relative",whiteSpace:"nowrap",boxShadow:"none",borderBottom:"1px solid #dfdfdf",flexWrap:t?"nowrap":"wrap"}},checkBox:function(e){return{flex:"0 0 32px",display:"flex",alignSelf:"center",paddingLeft:e?12:6}},flag:{color:Ge.palette.followUp,marginRight:4},sender:function(e,t){return{fontFamily:$,fontSize:"14px",flex:3,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",display:"flex",alignItems:"center",color:"black",paddingLeft:e?10:0,fontWeight:t}},subject:function(e,t,a){return{flex:8,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",paddingLeft:10,fontFamily:$,color:t,fontWeight:a,order:e?"inherit":10,marginTop:e?0:-10,flexBasis:e?"0%":"100%"}},dateFormat:function(e,t,a){return{flex:2,fontFamily:$,paddingLeft:e?10:0,paddingRight:e?0:10,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",textAlign:e?"":"end",color:t,fontWeight:a}}},Fa=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).onClick=function(e){a.props.setSelectedMessageConversation(e),e&&!e.read&&a.props.markMessageConversations("read",[e.id],a.props.selectedMessageType),a.props.updateInputFields("","",[]),a.props.attachments.length>0&&a.props.clearAttachments(),gt.push("/".concat(e.messageType,"/").concat(e.id))},a.onMouseEnter=function(){return a.setState({cursor:"pointer",backgroundColor:Ge.palette.accent2Color})},a.onMouseLeave=function(){return a.setState({cursor:"auto",backgroundColor:Ge.palette.canvasColor})},a.getBackgroundColor=function(e,t){var s=a.props.selectedMessageConversation&&e.id===a.props.selectedMessageConversation.id;return t&&!s?Ge.palette.blue50:s?Ge.palette.accent3Color:a.state.backgroundColor},a.state={backgroundColor:Ge.palette.canvasColor,cursor:"auto"},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.messageConversation,a=t.lastSender?t.lastSender.displayName:this.props.selectedMessageType.displayName,s=!!this.props.checkedIds.find(function(e){return e.id===t.id}),n=this.props.displayExtendedChoices,r=this.props.displayTimeDiff,i=Ce()(),c=Ce()(t.lastMessage).add(r),l=t.read?"":"bold",p=this.props.messageConversation.read?"black":Ge.palette.darkGray,u=this.getBackgroundColor(t,s);return o.a.createElement(Mt.a,{style:Ia.container(u,this.props.wideview,this.state.cursor),onClick:function(a){var s=void 0!==a.target.innerText&&""!==a.target.innerText;s&&!e.props.settingSelectedMessageConversation&&(e.onClick(t),e.props.checkedIds.length>0&&e.props.clearCheckedIds(),!e.props.wideview||void 0===e.props.messageFilter&&void 0===e.props.priorityFilter&&void 0===e.props.statusFilter||e.props.setFilter(void 0,"MESSAGE"))},onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.a.createElement(Ea.a,{checked:s,style:Ia.checkBox(this.props.wideview),onCheck:function(a,n){e.props.setChecked(t,!s)}}),o.a.createElement("div",{style:Ia.sender(this.props.wideview,l)},t.followUp&&o.a.createElement(Oa.a,{style:Ia.flag}),o.a.createElement("span",null,a)),o.a.createElement(lt.a,{style:Ia.subject(this.props.wideview,p,l)},t.subject),n&&o.a.createElement(ra,{showTitle:!1,title:d.a.t("Status"),color:p,fontWeight:l,label:t.status}),n&&o.a.createElement(ra,{showTitle:!1,title:d.a.t("Priority"),color:p,fontWeight:l,label:t.priority}),this.props.notification&&this.props.wideview&&o.a.createElement(ra,{showTitle:!1,title:d.a.t("Assignee"),color:p,fontWeight:l,label:t.assignee?t.assignee.displayName:void 0}),o.a.createElement(lt.a,{style:Ia.dateFormat(this.props.wideview,p,l)},i.diff(c,"hours")<72?c.from(i):i.year()===c.year()?c.format("MMM DD"):c.format("ll")))}}]),t}(i.Component),Ra=Object(Ne.a)(Object(l.b)(function(e){return{selectedMessageConversation:e.messaging.selectedMessageConversation,settingSelectedMessageConversation:e.messaging.settingSelectedMessageConversation,selectedMessageType:e.messaging.selectedMessageType,checkedIds:e.messaging.checkedIds,displayTimeDiff:e.messaging.displayTimeDiff,messageFilter:e.messaging.messageFilter,statusFilter:e.messaging.statusFilter,priorityFilter:e.messaging.priorityFilter,attachments:e.messaging.attachments}},{setChecked:function(e,t){return be(I,{messageConversation:e,selectedValue:t})},setSelectedMessageConversation:ke,markMessageConversations:Ee,clearCheckedIds:Ae,setFilter:Oe,updateInputFields:Ie,clearAttachments:Fe},null,{pure:!1}))(Fa),ja=["VALIDATION_RESULT","TICKET"],Da={canvas:function(e){return Object(ze.a)({flex:"1 0",maxWidth:e?"none":"350px",minWidth:e?"none":"250px",borderRightStyle:e?"":"solid"},ba)},loading:{backgroundColor:Ge.palette.accent2Color,height:"".concat(50,"px"),transition:"all 0.2s ease-in-out",display:"flex",justifyContent:"center"}},Na=function(e){function t(){var e,a;Object(g.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).onScroll=function(e){var t=document.getElementById("messagelist");!a.props.selectedMessageType.loading&&a.isBottom(t)&&e.loaded<e.total&&a.props.loadMessageConversations(e,e.id,!0)},a.debouncedOnScroll=$e(a.onScroll,150),a.isBottom=function(e){return e.scrollHeight-e.scrollTop<window.outerHeight},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=function(e){if(Array.isArray(e)){var t=new Set;return e.filter(function(e){return!t.has(e.id)&&(t.add(e.id),!0)})}}(this.props.messageConversations[this.props.selectedMessageType.id]),a=this.props.selectedMessageType?this.props.selectedMessageType:"",s=this.props.selectedMessageConversation?this.props.selectedMessageConversation.id:"",n=!!(ja.indexOf(a.id)+1);return o.a.createElement("div",{id:"messagelist",onScroll:function(){return e.debouncedOnScroll(e.props.selectedMessageType)},style:Da.canvas(this.props.wideview)},this.props.wideview&&o.a.createElement(wa,{notification:n,displayExtendedChoices:this.props.displayExtendedChoices},t),t&&0!==t.length?t.map(function(t){return o.a.createElement(Ra,{key:t.id,messageConversation:t,wideview:e.props.wideview,selectedValue:s,notification:n,displayExtendedChoices:e.props.displayExtendedChoices})}):!this.props.selectedMessageType.loading&&o.a.createElement(lt.a,null,d.a.t("No ".concat(a.displayName.toLowerCase()," messages"))),this.props.selectedMessageType.loading&&o.a.createElement("div",{style:Da.loading},o.a.createElement(ma.a,{style:{marginTop:"10px"},color:Ge.palette.primary1Color})))}}]),t}(i.Component),Ua=Object(Ne.a)(Object(l.b)(function(e){return{messageTypes:e.messaging.messageTypes,messageFilter:e.messaging.messageFilter,statusFilter:e.messaging.statusFilter,priorityFilter:e.messaging.priorityFilter,messageConversations:e.messaging.messageConversations,selectedMessageConversation:e.messaging.selectedMessageConversation,selectedMessageType:e.messaging.selectedMessageType}},{loadMessageConversations:Te},null,{pure:!1}))(Na),_a=a(93),Pa=a(134),La=a.n(Pa),Ga={canvas:{flex:"3 0",margin:"10px",overflowY:"scroll",overflowX:"hidden",height:"calc(100vh - 110px)"},messageTypeField:{display:"flex",flexDirection:"row"},messageType:{width:"300px",marginTop:"10px"}},Ha=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).subjectUpdate=function(e,t){a.props.updateInputFields(t,a.props.input,a.props.recipients)},a.inputUpdate=function(e,t){a.props.updateInputFields(a.props.subject,t,a.props.recipients)},a.updateRecipients=function(e){a.props.updateInputFields(a.props.subject,a.props.input,e)},a.sendMessage=function(){var e=a.state.isMessageFeedback?"TICKET":"PRIVATE",t=a.props.messageTypes.find(function(t){return t.id===e});if(a.state.isMessageFeedback)a.props.sendFeedbackMessage(t),gt.push("/TICKET");else{var s=a.props.recipients.filter(function(e){return"user"===e.type}),n=a.props.recipients.filter(function(e){return"userGroup"===e.type}),r=a.props.recipients.filter(function(e){return"organisationUnit"===e.type}),i=Object(_a.generateUid)();a.props.sendMessage({users:s,userGroups:n,organisationUnits:r,messageConversationId:i,messageType:t}),gt.push("/PRIVATE")}},a.wipeInput=function(){a.props.updateInputFields("","",[]),a.props.attachments.length>0&&a.props.clearAttachments()},a.handleDiscard=function(){var e=d.a.t("Message discarded"),t=ee;a.props.displaySnackMessage({message:e,onSnackActionClick:function(){return gt.push("/PRIVATE/create")},onSnackRequestClose:function(){return a.wipeInput()},snackType:t}),gt.push("/PRIVATE")},a.state={isMessageFeedback:!1},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.addRecipientByUserId,t=this.props.match.params,a=t.messageId,s=t.recipientId;"create"===a&&s&&e(s)}},{key:"render",value:function(){var e=this,t=""===this.props.subject||""===this.props.input||!this.state.isMessageFeedback&&0===this.props.recipients.length,a=""===this.props.subject&&""===this.props.input&&!this.state.isMessageFeedback&&0===this.props.recipients.length;return o.a.createElement("div",{style:Ga.canvas},o.a.createElement(lt.a,{style:ka}," ",d.a.t("Create")),o.a.createElement(Bt.Card,null,o.a.createElement(Bt.CardText,null,o.a.createElement(sa,{style:{margin:"0px"},label:d.a.t("To"),disabled:this.state.isMessageFeedback,recipients:this.state.isMessageFeedback?[{id:"id",displayName:d.a.t("Feedback recipient group")}]:this.props.recipients,updateRecipients:this.updateRecipients,inputHeight:"100px"}),o.a.createElement("div",{style:Ga.messageTypeField},o.a.createElement("div",{style:Ga.messageType},o.a.createElement(La.a,{label:d.a.t("Private message"),checked:!this.state.isMessageFeedback,onCheck:function(){e.setState({isMessageFeedback:!e.state.isMessageFeedback})}})),o.a.createElement("div",{style:Ga.messageType},o.a.createElement(La.a,{label:d.a.t("Feedback message"),checked:this.state.isMessageFeedback,onCheck:function(){e.setState({isMessageFeedback:!e.state.isMessageFeedback})}}))),o.a.createElement(Yt.a,{floatingLabelText:d.a.t("Subject"),fullWidth:!0,value:this.props.subject,onChange:this.subjectUpdate}),o.a.createElement(Yt.a,{key:"createMessage",id:"createMessage",rows:5,underlineShow:!1,value:this.props.input,multiLine:!0,fullWidth:!0,floatingLabelText:d.a.t("Message"),onChange:this.inputUpdate}),this.props.enableAttachments&&o.a.createElement(_t,{dataDirection:"upload",attachments:this.props.attachments,removeAttachment:function(t){return e.props.removeAttachment(t.id)},cancelAttachment:this.props.cancelAttachment}),o.a.createElement(Bt.CardActions,{style:{paddingLeft:"0px"}},o.a.createElement(Wt.a,{primary:!0,disabled:t,label:d.a.t("Send"),onClick:function(){return e.sendMessage()}}),o.a.createElement(St.a,{label:d.a.t("Discard"),disabled:a,onClick:this.handleDiscard}),this.props.enableAttachments&&o.a.createElement(Jt,{addAttachment:function(t){e.props.addAttachment(t)}})))))}}]),t}(i.Component),Ba=Object(Ne.a)(Object(l.b)(function(e){return{messageTypes:e.messaging.messageTypes,subject:e.messaging.subject,input:e.messaging.input,recipients:e.messaging.recipients,attachments:e.messaging.attachments,enableAttachments:Qe(e.messaging.dhis2CoreVersion)}},{sendMessage:function(e){var t=e.users,a=e.userGroups,s=e.organisationUnits,i=e.messageConversationId,o=e.messageType;return function(){var e=Object(r.a)(n.a.mark(function e(r,c){var l,p,d,u,g;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=c(),p=l.messaging,d=p.subject,u=p.input,g=p.attachments,e.next=4,ce({subject:d,users:t,userGroups:a,organisationUnits:s,text:u,attachments:g,id:i});case 4:r(be("SEND_MESSAGE_SUCCESS",{messageType:o,page:1})),r(Te()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r(be(A,{error:e.t0}));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,a){return e.apply(this,arguments)}}()},sendFeedbackMessage:function(e){return function(){var t=Object(r.a)(n.a.mark(function t(a,s){var r;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s(),t.prev=1,t.next=4,le(r.messaging.subject,r.messaging.input);case 4:a(be("SEND_MESSAGE_SUCCESS",{messageType:e,page:1})),a(Te()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a(be(A,{error:t.t0}));case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(e,a){return t.apply(this,arguments)}}()},displaySnackMessage:xe,updateInputFields:Ie,addAttachment:Me,removeAttachment:je,cancelAttachment:De,addRecipientByUserId:function(e){return function(){var t=Object(r.a)(n.a.mark(function t(a){var s;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe(e);case 3:s=t.sent,a(be(G,s)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}},null,{pure:!1}))(Ha),Va=a(213),Wa=a.n(Va),qa=a(212),Ya=a.n(qa),Ka=a(135),za=a.n(Ka),Xa=a(37),Ja=a.n(Xa),$a=a(83),Qa=a.n($a),Za=a(100),es=a.n(Za),ts=a(84),as=a.n(ts),ss=a(101),ns=a.n(ss),rs={STATUS:[{key:"NONE",value:"NONE",primaryText:d.a.t("No status")},{key:"OPEN",value:"OPEN",primaryText:d.a.t("Open")},{key:"PENDING",value:"PENDING",primaryText:d.a.t("Pending")},{key:"INVALID",value:"INVALID",primaryText:d.a.t("Invalid")},{key:"SOLVED",value:"SOLVED",primaryText:d.a.t("Solved")}],PRIORITY:[{key:"NONE",value:"NONE",primaryText:d.a.t("No priority")},{key:"HIGH",value:"HIGH",primaryText:d.a.t("High")},{key:"MEDIUM",value:"MEDIUM",primaryText:d.a.t("Medium")},{key:"LOW",value:"LOW",primaryText:d.a.t("Low")}]},is=a(102),os=a.n(is),cs=a(136),ls=a.n(cs),ps=a(211),ds=a.n(ps),us=a(208),gs=a.n(us),ms=a(209),hs=a.n(ms),fs=a(210),ys=a.n(fs),vs=function(e){var t=e.open,a=e.onRequestClose,s=e.updateMessageConversations,n=e.messageType,r=e.feedbackRecipientsId;return o.a.createElement(os.a,{open:t,onRequestClose:function(){a()}},o.a.createElement(sa,{onSuggestionClick:function(e){s([e.id]),a()},searchOnlyUsers:!0,searchOnlyFeedbackRecipients:"TICKET"===n.id,feedbackRecipientsId:r,recipients:[],key:"suggestionField",label:d.a.t("Assignee")}))},Ss={canvas:{width:"400px",display:"flex"},extendedChoices:{display:"flex",justifyContent:"flex-start"},nrSelected:{padding:"0px 0px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},Cs=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).getIds=function(){return a.props.selectedMessageConversation&&0===a.props.checkedIds.length?[a.props.selectedMessageConversation.id]:a.props.checkedIds.map(function(e){return e.id})},a.updateMessageConversation=function(e,t){var s=a.props,n=s.selectedMessageType,r=s.selectedMessageConversation,i=a.getIds();a.props.updateMessageConversations({messageConversationIds:i,identifier:e,value:t,messageType:n,selectedMessageConversation:r}),a.props.checkedIds.length>0&&a.props.clearCheckedIds()},a.markMessageConversations=function(e){var t=a.getIds();a.props.markMessageConversations(e,t,a.props.selectedMessageType),a.props.checkedIds.length>0&&a.props.clearCheckedIds()},a.toggleDialog=function(){a.setState({dialogOpen:!a.state.dialogOpen})},a.state={checkedItems:!1,dialogOpen:!1,assignToOpen:!1},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props.selectedMessageConversation,a=this.props.checkedIds.length>0,s=a||void 0!==t,n=[o.a.createElement(St.a,{label:d.a.t("Cancel"),primary:!0,onClick:function(){return e.toggleDialog()}}),o.a.createElement(St.a,{label:d.a.t("Submit"),primary:!0,keyboardFocused:!0,onClick:function(){e.props.deleteMessageConversations(e.getIds(),e.props.selectedMessageType),e.props.clearCheckedIds(),e.toggleDialog(),e.props.selectedMessageConversation&&(e.props.clearSelectedMessageConversation(),gt.push("/".concat(e.props.selectedMessageType.id)))}})],r=this.props.checkedIds.length>99?"".concat(99,"+"):this.props.checkedIds.length;return s?o.a.createElement("div",{style:Ss.canvas},o.a.createElement(os.a,{title:d.a.t("Are you sure you want to delete selected message conversation(s)?"),actions:n,modal:!1,open:this.state.dialogOpen,onRequestClose:this.toggleDialog}),o.a.createElement(vs,{open:this.state.assignToOpen,onRequestClose:function(){return e.setState({assignToOpen:!e.state.assignToOpen})},updateMessageConversations:function(t){return e.updateMessageConversation("ASSIGNEE",t)},messageType:this.props.selectedMessageType,feedbackRecipientsId:this.props.feedbackRecipientsId}),o.a.createElement("div",{style:Ss.extendedChoices},o.a.createElement(bt.a,{tooltip:d.a.t("Delete selected"),onClick:function(){e.toggleDialog()}},o.a.createElement(gs.a,null)),o.a.createElement(bt.a,{tooltip:d.a.t("Mark selected as unread"),onClick:function(){e.markMessageConversations("unread")}},o.a.createElement(hs.a,null)),o.a.createElement(bt.a,{tooltip:d.a.t("Mark selected as read"),onClick:function(){e.markMessageConversations("read")}},o.a.createElement(ys.a,null)),this.props.displayExtendedChoices&&o.a.createElement(bt.a,{onClick:function(){return e.setState({assignToOpen:!e.state.assignToOpen})},tooltip:d.a.t("Assign selected")},o.a.createElement(ds.a,null)),o.a.createElement(es.a,{iconButtonElement:o.a.createElement(bt.a,null,o.a.createElement(ns.a,null)),anchorOrigin:{horizontal:"left",vertical:"top"},targetOrigin:{horizontal:"left",vertical:"top"}},o.a.createElement(Ja.a,{key:"markFollowUp",value:"markFollowUp",primaryText:d.a.t("Mark for followup"),onClick:function(){return e.updateMessageConversation("FOLLOW_UP",!0)}}),o.a.createElement(Ja.a,{key:"clearFollowUp",value:"clearFollowUp",primaryText:d.a.t("Clear followup"),onClick:function(){return e.updateMessageConversation("FOLLOW_UP",!1)}}),this.props.displayExtendedChoices&&o.a.createElement(wt.a,null),this.props.displayExtendedChoices&&o.a.createElement(Ja.a,{key:"clearAssigned",value:"clearAssigned",primaryText:d.a.t("Clear assignee"),onClick:function(){return e.updateMessageConversation("ASSIGNEE",void 0)}}),this.props.displayExtendedChoices&&o.a.createElement(Ja.a,{primaryText:d.a.t("Set status"),key:"setStatus",rightIcon:o.a.createElement(ls.a,null),menuItems:rs.STATUS.map(function(t){return o.a.createElement(Ja.a,{key:"".concat(t.key,"_status"),value:t.value,primaryText:t.primaryText,onClick:function(){return e.updateMessageConversation("STATUS",t.key)}})})}),this.props.displayExtendedChoices&&o.a.createElement(Ja.a,{primaryText:d.a.t("Set priority"),key:"setPriority",rightIcon:o.a.createElement(ls.a,null),menuItems:rs.PRIORITY.map(function(t){return o.a.createElement(Ja.a,{key:"".concat(t.key,"_priority"),value:t.value,primaryText:t.primaryText,onClick:function(){return e.updateMessageConversation("PRIORITY",t.key)}})})}))),a&&o.a.createElement(Qa.a,{style:Ss.nrSelected},"".concat(r," ").concat(d.a.t("selected")))):o.a.createElement("div",null)}}]),t}(i.Component),bs=Object(Ne.a)(Object(l.b)(function(e){return{selectedMessageType:e.messaging.selectedMessageType,selectedMessageConversation:e.messaging.selectedMessageConversation,checkedIds:e.messaging.checkedIds,feedbackRecipientsId:e.messaging.feedbackRecipientsId}},{clearCheckedIds:Ae,clearSelectedMessageConversation:we,deleteMessageConversations:function(e,t){return function(){var a=Object(r.a)(n.a.mark(function a(s){var r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=e.map(function(e){return de(e)}),a.next=4,Promise.all(r);case 4:s(be(k,{messageType:t,page:1})),s(Te()),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),s(be(T,{error:a.t0}));case 11:case"end":return a.stop()}},a,null,[[0,8]])}));return function(e){return a.apply(this,arguments)}}()},updateMessageConversations:function(e){var t=e.messageConversationIds,a=e.identifier,s=e.value,i=e.messageType,o=e.selectedMessageConversation;return function(){var e=Object(r.a)(n.a.mark(function e(r){var c;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("FOLLOW_UP"!==a){e.next=13;break}return e.prev=1,e.next=4,ie(t,s);case 4:r(be(E,{messageType:i,page:1,identifier:a})),r(Te()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r(be(M,{error:e.t0}));case 11:e.next=24;break;case 13:return c=t.map(function(e){var t;switch(a){case"STATUS":t=se(e,s);break;case"PRIORITY":t=ne(e,s);break;case"ASSIGNEE":t=void 0!==s&&"VALIDATION_RESULT"===i.id?he({users:s.map(function(e){return{id:e}}),userGroups:[],organisationUnits:[],messageConversationId:e}).then(function(){return re(e,s)}):re(e,s);break;default:X.a.error("Unexpected identifier for updateMessageConversations")}return t}),e.prev=14,e.next=17,Promise.all(c);case 17:r(be(E,{messageType:i,page:1,identifier:a})),r(Te()),e.next=24;break;case 21:e.prev=21,e.t1=e.catch(14),r(be(M,{error:e.t1}));case 24:o&&r(ke(o));case 25:case"end":return e.stop()}},e,null,[[1,8],[14,21]])}));return function(t){return e.apply(this,arguments)}}()},markMessageConversations:Ee},null,{pure:!1}))(Cs),ks=300,Ts={canvas:function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",backgroundColor:e?Ge.palette.blue50:Ge.palette.accent2Color,zIndex:10}},checkedOption:{display:"flex",justifyContent:"flex-start",minWidth:"200px",margin:"6px 0"},filterControl:{flex:2,height:"48px",marginRight:16,maxWidth:256},rightHandCanvas:{flex:"2 0",display:"flex",paddingLeft:16},ie11Spacer:{flexGrow:1},iconMenu:{width:"30px",display:"flex"}},Es=function(e){function t(){var e,a;Object(g.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).state={lastMessageFilter:""},a.debouncedSearch=$e(a.search,ks),a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"search",value:function(e){this.props.selectedMessageType&&this.state.lastMessageFilter!==e&&(this.props.loadMessageConversations(this.props.selectedMessageType,this.props.selectedMessageType.id),this.setState({lastMessageFilter:e}))}},{key:"componentDidUpdate",value:function(e){e.selectedMessageType&&this.props.selectedMessageType.id!==e.selectedMessageType.id&&(this.debouncedSearch(""),void 0!==this.props.messageFilter&&this.props.setFilter(void 0,"MESSAGE"),void 0!==this.props.statusFilter&&this.props.setFilter(void 0,"STATUS"),void 0!==this.props.priorityFilter&&this.props.setFilter(void 0,"PRIORITY"),this.props.assignedToMeFilter&&this.props.setFilter(!1,"ASSIGNED_TO_ME"),this.props.markedForFollowUpFilter&&this.props.setFilter(!1,"MARKED_FOR_FOLLOWUP"),this.props.unreadFilter&&this.props.setFilter(!1,"UNREAD")),void 0===this.props.selectedMessageType||this.props.selectedMessageType.loading||e.statusFilter===this.props.statusFilter&&e.priorityFilter===this.props.priorityFilter&&e.assignedToMeFilter===this.props.assignedToMeFilter&&e.markedForFollowUpFilter===this.props.markedForFollowUpFilter&&e.unreadFilter===this.props.unreadFilter&&void 0!==e.selectedMessageType&&e.selectedMessageType.id===this.props.selectedMessageType.id||this.props.loadMessageConversations(this.props.selectedMessageType,this.props.selectedMessageType.id)}},{key:"render",value:function(){var e=this,t=this.props.id,a=this.props.displayExtendedChoices,s=this.props.checkedOptions,n=!this.props.wideview||void 0===this.props.selectedMessageConversation&&"create"!==t;return o.a.createElement(Mt.a,{style:Ts.canvas(s)},o.a.createElement("div",null,!s&&o.a.createElement(St.a,{style:Ts.checkedOption,icon:o.a.createElement(ht.a,null),onClick:function(){return gt.push("/PRIVATE/create")},label:d.a.t("Compose")}),s&&o.a.createElement(St.a,{style:Ts.checkedOption,icon:o.a.createElement(yt.a,null),onClick:function(){return e.props.clearCheckedIds()},label:d.a.t("Deselect all")})),o.a.createElement(bs,{displayExtendedChoices:a}),o.a.createElement("div",{style:Ts.rightHandCanvas},o.a.createElement("div",{style:Ts.ie11Spacer}),a&&n&&!s&&o.a.createElement(za.a,{style:Ts.filterControl,labelStyle:{color:void 0===this.props.statusFilter?"lightGray":"black",top:void 0===this.props.statusFilter?"-15px":"-2px"},selectedMenuItemStyle:{color:Ge.palette.primary1Color},floatingLabelText:void 0===this.props.statusFilter?d.a.t("Status"):"",floatingLabelStyle:{top:"15px"},iconStyle:{top:void 0===this.props.statusFilter?"-15px":"0px"},value:this.props.statusFilter,onChange:function(t,a,s){e.props.setFilter(null===s?void 0:s,"STATUS")}},o.a.createElement(Ja.a,{key:null,value:null,primaryText:""}),rs.STATUS.map(function(e){return o.a.createElement(Ja.a,{key:e.key,value:e.value,primaryText:e.primaryText})})),a&&n&&!s&&o.a.createElement(za.a,{style:Ts.filterControl,labelStyle:{color:void 0===this.props.priorityFilter?"lightGray":"black",top:void 0===this.props.priorityFilter?"-15px":"-2px"},selectedMenuItemStyle:{color:Ge.palette.primary1Color},floatingLabelText:void 0===this.props.priorityFilter?d.a.t("Priority"):"",floatingLabelStyle:{top:"15px"},iconStyle:{top:void 0===this.props.priorityFilter?"-15px":"0px"},value:this.props.priorityFilter,onChange:function(t,a,s){e.props.setFilter(null===s?void 0:s,"PRIORITY")}},o.a.createElement(Ja.a,{key:null,value:null,primaryText:""}),rs.PRIORITY.map(function(e){return o.a.createElement(Ja.a,{key:e.key,value:e.value,primaryText:e.primaryText})})),!s&&n&&o.a.createElement(Yt.a,{style:Ts.filterControl,fullWidth:!0,hintText:d.a.t("Search"),value:this.props.messageFilter||"",onChange:function(t,a){e.debouncedSearch(a),e.props.setFilter(a,"MESSAGE")},type:"search"}),!s&&n&&o.a.createElement(es.a,{iconButtonElement:o.a.createElement(bt.a,null,o.a.createElement(ns.a,null)),anchorOrigin:{horizontal:"right",vertical:"top"},targetOrigin:{horizontal:"right",vertical:"top"},style:Ts.iconMenu,menuStyle:{overflowX:"hidden"}},o.a.createElement(Qa.a,{style:{padding:"0px 16px"}},d.a.t("Set filter")),this.props.displayExtendedChoices&&o.a.createElement(as.a,{style:{padding:"0px 16px"},key:"assignedToMeFilter",label:d.a.t("Assigned to me"),checked:this.props.assignedToMeFilter,onClick:function(){e.props.setFilter(!e.props.assignedToMeFilter,"ASSIGNED_TO_ME")}}),o.a.createElement(as.a,{style:{padding:"0px 16px"},key:"markedForFollowUpFilter",label:d.a.t("Marked for followup"),checked:this.props.markedForFollowUpFilter,onClick:function(){e.props.setFilter(!e.props.markedForFollowUpFilter,"MARKED_FOR_FOLLOWUP")}}),o.a.createElement(as.a,{style:{padding:"0px 16px"},key:"unreadFilter",label:d.a.t("Unread messages"),checked:this.props.unreadFilter,onClick:function(){e.props.setFilter(!e.props.unreadFilter,"UNREAD")}})),o.a.createElement(St.a,{style:{width:"50px",alignSelf:"center"},icon:this.props.wideview?o.a.createElement(Wa.a,null):o.a.createElement(Ya.a,null),onClick:function(){return e.props.toogleWideview()}})))}}]),t}(i.Component),Ms=(a(480),["TICKET","VALIDATION_RESULT"]),As=3e5,ws=1e4,xs=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(h.a)(this,Object(f.a)(t).call(this,e))).setAutoRefresh=function(e){!e&&a.intervalId&&(clearInterval(a.intervalId),a.intervalId=null),e&&(a.intervalId=setInterval(a.tick,ws)),a.setState({autoRefresh:e,refreshTimer:As})},a.tick=function(){a.state.refreshTimer-ws<=0?(a.refresh(),a.setState({refreshTimer:As})):a.setState(function(e){return{refreshTimer:e.refreshTimer-ws}})},a.refresh=function(){a.props.messageTypes.map(function(e){return a.props.loadMessageConversations(e,a.props.selectedMessageType)}),a.props.selectedMessageConversation&&a.props.setSelectedMessageConversation(a.props.selectedMessageConversation)},a.toogleWideview=function(){a.setState({wideview:!a.state.wideview})},a.intervalId=null,a.state={autoRefresh:!1,checkedItems:!1,refreshTimer:As,wideview:!0},a}return Object(y.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.messageType,a=this.props.match.params.messageId;if(this.props.setDhis2CoreVersion(this.context.d2.system.version.minor),a&&a!==t&&"create"!==a){var s={id:a};this.props.setSelectedMessageConversation(s)}Object(J.getInstance)().then(function(e){return e.Api.getApi().get("me",{fields:"userGroups[id]"})}).then(function(e){return Object(J.getInstance)().then(function(e){return{configuration:e.Api.getApi().get("configuration").then(function(e){return e}),instance:e}}).then(function(t){var a,s=t.configuration,n=t.instance,r=(a=n.currentUser.authorities,Array.from(a[Object.getOwnPropertySymbols(a)[0]]));return s.then(function(t){return{authorized:r.includes("ALL")||!!e.userGroups.find(function(e){return e.id===t.feedbackRecipients.id}),feedbackRecipientsId:t.feedbackRecipients.id}})}).catch(function(e){throw e})}).catch(function(e){throw e}).then(function(t){return e.props.setIsInFeedbackRecipientGroup(t)}),this.props.messageTypes.map(function(a){return e.props.loadMessageConversations(a,t)}),this.props.setDisplayTimeDiff()}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.messageType,t=this.props.match.params.messageId;if(!this.props.settingSelectedMessageConversation&&t&&e!==t&&"create"!==t&&(void 0===this.props.selectedMessageConversation||t!==this.props.selectedMessageConversation.id)){var a={id:t};this.props.setSelectedMessageConversation(a)}e===t&&e!==this.props.selectedMessageType.id&&this.props.setSelectedMessageType(e),e!==t&&"create"!==t||void 0===this.props.selectedMessageConversation||this.props.clearSelectedMessageConversation()}},{key:"componentWillUnmount",value:function(){this.intervalId&&clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this.props.match.params.messageId,t=!!this.props.selectedMessageType&&!!(Ms.indexOf(this.props.selectedMessageType.id)+1)&&this.props.isInFeedbackRecipientGroup;return o.a.createElement("div",{className:"messaging-center"},o.a.createElement(Es,Object.assign({},this.props,{id:e,wideview:this.state.wideview,displayExtendedChoices:t,toogleWideview:this.toogleWideview})),o.a.createElement("div",{className:"messaging-center__main-content"},o.a.createElement(Ca,Object.assign({},this.props,{drawerOpen:this.state.drawerOpen,messageTypes:this.props.messageTypes,autoRefresh:this.state.autoRefresh,refreshTimer:this.state.refreshTimer,setAutoRefresh:this.setAutoRefresh})),void 0===this.props.selectedMessageConversation&&!(this.state.wideview&&"create"===e)&&o.a.createElement(Ua,{wideview:this.state.wideview,displayExtendedChoices:t&&this.state.wideview}),"create"===e&&o.a.createElement(Ba,Object.assign({},this.props,{wideview:this.state.wideview})),void 0!==this.props.selectedMessageConversation&&!this.state.wideview&&o.a.createElement(Ua,{wideview:this.state.wideview,displayExtendedChoices:t&&this.state.wideview}),this.props.selectedMessageConversation&&"create"!==e?void 0!==this.props.selectedMessageConversation&&o.a.createElement(la,Object.assign({},this.props,{messageConversation:this.props.selectedMessageConversation,wideview:this.state.wideview,disableLink:!0,displayExtendedChoices:t})):!this.state.wideview&&"create"!==e&&o.a.createElement("div",{className:"messaging-center__no-message-selected"},o.a.createElement(lt.a,{style:ka},d.a.t("Select a message")),o.a.createElement(dt.a,{style:{color:Ge.palette.primary1Color,width:120,height:120}}))))}}]),t}(i.Component);xs.contextTypes={d2:ot.a.object};var Os=Object(Ne.a)(Object(l.b)(function(e){return{snackMessage:e.messaging.snackMessage,messageTypes:e.messaging.messageTypes,messageConversations:e.messaging.messageConversations,messageFilter:e.messaging.messageFilter,statusFilter:e.messaging.statusFilter,priorityFilter:e.messaging.priorityFilter,assignedToMeFilter:e.messaging.assignedToMeFilter,markedForFollowUpFilter:e.messaging.markedForFollowUpFilter,unreadFilter:e.messaging.unreadFilter,selectedMessageType:e.messaging.selectedMessageType,selectedMessageConversation:e.messaging.selectedMessageConversation,settingSelectedMessageConversation:e.messaging.settingSelectedMessageConversation,checkedIds:e.messaging.checkedIds,checkedOptions:e.messaging.checkedIds.length>0,loaded:e.messaging.loaded,isInFeedbackRecipientGroup:e.messaging.isInFeedbackRecipientGroup,attachments:e.messaging.attachments}},{loadMessageConversations:Te,setIsInFeedbackRecipientGroup:function(e){return be(P,{isInFeedbackRecipientGroup:e})},clearCheckedIds:Ae,setSelectedMessageConversation:ke,setSelectedMessageType:Re,clearSelectedMessageConversation:we,updateInputFields:Ie,setFilter:Oe,setDisplayTimeDiff:function(){return function(){var e=Object(r.a)(n.a.mark(function e(t){var a,s;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(J.getInstance)().then(function(e){return e.Api.getApi().get("system/info")}).then(function(e){return e.serverDate}).catch(function(e){throw e});case 3:a=e.sent,s=Ce()().diff(Ce()(a))-5e3,t(be(L,s)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(be("SET_DISPLAY_TIME_DIFF_ERROR",{error:e.t0}));case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},clearAttachments:Fe,setDhis2CoreVersion:function(e){return be(K,e)}},null,{pure:!1}))(xs),Is=function(){return o.a.createElement(rt.c,{history:gt},o.a.createElement("div",null,o.a.createElement(rt.b,{exact:!0,path:"/",component:function(){return o.a.createElement(rt.a,{to:"/PRIVATE"})}}),o.a.createElement(rt.b,{path:"/:messageType/:messageId?/:recipientId?",component:Os})))},Fs=a(218),Rs=a.n(Fs),js=function(e){function t(){var e,a;Object(g.a)(this,t);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(n)))).getChildContext=function(){return{d2:a.props.d2}},a.render=function(){return o.a.createElement(Rs.a,{muiTheme:Ge},a.props.children)},a}return Object(y.a)(t,e),t}(o.a.Component);js.childContextTypes={d2:ot.a.object};var Ds=js,Ns=function(e){var t=e.d2;return o.a.createElement(l.a,{store:nt},o.a.createElement(Ds,{d2:t},o.a.createElement("div",null,o.a.createElement(u.a,{appName:d.a.t("Messaging")}),o.a.createElement(Ve,null),o.a.createElement(Is,null))))},Us=a(500),_s=a(73),Ps=(a(185),a(186),a(187),a(188),a(189),a(190),a(191),a(192),a(193),a(241)),Ls=a(242),Gs=a(243),Hs=a(244),Bs=a(245),Vs=a(246),Ws=a(247),qs=a(248),Ys=a(249),Ks=a(250),zs=a(251),Xs=a(252),Js=a(253),$s=a(254),Qs="messaging-app";Ce.a.locale("en"),d.a.addResources("ar",Qs,Ps),d.a.addResources("en",Qs,Ls),d.a.addResources("es",Qs,Gs),d.a.addResources("fr",Qs,Hs),d.a.addResources("id",Qs,Bs),d.a.addResources("lo",Qs,Vs),d.a.addResources("my",Qs,Ws),d.a.addResources("prs",Qs,qs),d.a.addResources("ps",Qs,Ys),d.a.addResources("pt",Qs,Ks),d.a.addResources("ru",Qs,zs),d.a.addResources("uk",Qs,Xs),d.a.addResources("ur",Qs,Js),d.a.addResources("vi",Qs,$s),d.a.setDefaultNamespace(Qs),d.a.changeLanguage("en");var Zs=d.a,en=function(e){var t=e.keyUiLocale;t&&"en"!==t&&J.config.i18n.sources.add("./i18n/i18n_module_".concat(t,".properties")),J.config.i18n.sources.add("./i18n/i18n_module_en.properties"),Zs.changeLanguage(t)};a(494),a(495);(function(){var e=Object(r.a)(n.a.mark(function e(){var t,a,s,r,i;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={baseUrl:"".concat("..","/api/"),headers:null,schemas:["messageConversation"]},e.next=3,Object(J.init)(t);case 3:return a=e.sent,e.next=6,Object(J.getUserSettings)();case 6:s=e.sent,r=a.system.version.minor,i=r>31?"":r,en(s),Object(c.render)(o.a.createElement(_s.a,{config:{baseUrl:"..",apiVersion:i}},o.a.createElement(Us.a,null),o.a.createElement(Ns,{d2:a})),document.getElementById("root"));case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[256,1,2]]]);
//# sourceMappingURL=main.da9cb6ff.chunk.js.map